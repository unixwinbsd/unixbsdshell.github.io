<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.20.2 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Time and Date Synchronization For FreeBSD Server With NTP Time Server - UnixBSDShell</title>
<meta name="description" content="One of the popular programming languages ​​used in web development is PHP. PHP is a programming language that is widely used to create the most popular CMS platform in the world, namely WordPress. PHP is a back-end programming language or used for server-side development.">


  <meta name="author" content="UnixBSDShell's Blog">
  
  <meta property="article:author" content="UnixBSDShell's Blog">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="UnixBSDShell">
<meta property="og:title" content="Time and Date Synchronization For FreeBSD Server With NTP Time Server">
<meta property="og:url" content="https://unixwinbsd.site/freebsd/time-date-synchronization-freebsd-ntp-time-server/">


  <meta property="og:description" content="One of the popular programming languages ​​used in web development is PHP. PHP is a programming language that is widely used to create the most popular CMS platform in the world, namely WordPress. PHP is a back-end programming language or used for server-side development.">





  <meta name="twitter:site" content="@iwanset96143401">
  <meta name="twitter:title" content="Time and Date Synchronization For FreeBSD Server With NTP Time Server">
  <meta name="twitter:description" content="One of the popular programming languages ​​used in web development is PHP. PHP is a programming language that is widely used to create the most popular CMS platform in the world, namely WordPress. PHP is a back-end programming language or used for server-side development.">
  <meta name="twitter:url" content="https://unixwinbsd.site/freebsd/time-date-synchronization-freebsd-ntp-time-server/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2025-06-05T12:10:25+03:00">





  

  


<link rel="canonical" href="https://unixwinbsd.site/freebsd/time-date-synchronization-freebsd-ntp-time-server/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "UnixBSDShell Blog",
      "url": "https://unixwinbsd.site/"
    
  }
</script>


  <meta name="google-site-verification" content="googledc9be5e5382da4fd" />


  <meta name="msvalidate.01" content="BCDF1444D895EBA62C6422C90DF8EA1C">



  <meta name="yandex-verification" content="69d778baa1dbd371">


<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="UnixBSDShell Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- <script data-ad-client="ca-pub-8799681346916578" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> -->

<!-- end custom head snippets -->


<meta name="google-site-verification" content="RT2u0cL3NCPK3ydcuewM50F8hvklo6JxBJGxu0zypiw" />
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js', 'ym');

    ym(95812963, 'init', {webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/95812963" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=GT-TNPXBWRM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'GT-TNPXBWRM');
</script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RWLWYNFRW0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RWLWYNFRW0');
</script>

<script>
gtag('set', 'user_data', {
"email": datainchi@gmail.com,
"phone_number": +6281289065249,
"address": {
"first_name": Iwan,
"last_name": Setiawan,
"street": Kp. Warung Bongkok RT. 002/01,
"city": Kabupaten Bekasi,
"region": Jawa Barat,
"postal_code": 17841,
"country": Indonesia
}
});
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N7TLZSRG');</script>
<!-- End Google Tag Manager -->



  </head>

  <body class="layout--single">

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N7TLZSRG"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          UnixBSDShell
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/">Posts by Category</a>
            </li><li class="masthead__menu-item">
              <a href="/year-archive/">Posts by Year</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="https://unixwinbsd.site/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#freebsd" itemprop="item"><span itemprop="name">Freebsd</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Time and Date Synchronization For FreeBSD Server With NTP Time Server</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/pscustomobject.jpg" alt="UnixBSDShell's Blog" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">UnixBSDShell's Blog</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>unixwinbsd.site is an online learning platform that provides online tutorials and videos about unix, FreeBSD, OpenBSD and Linux. Not only that, unixwinbsd.site also presents a variety of topics, including software development, programming, web design, and more. This blog provides various online tutorials and videos for beginners and experienced professionals. This blog also provides a Q&amp;A forum for users to ask questions and get help from other members.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Moscow, Russia</span>
        </li>
      

      
        
          
            <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
          
        
          
            <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">DevOps Notes</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/iwan-setiawan-943659164/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
            <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
      

      

      
        <li>
          <a href="mailto:iwanse1212@yandex.com">
            <meta itemprop="email" content="iwanse1212@yandex.com" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span>
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Time and Date Synchronization For FreeBSD Server With NTP Time Server">
    <meta itemprop="description" content="One of the popular programming languages ​​used in web development is PHP. PHP is a programming language that is widely used to create the most popular CMS platform in the world, namely WordPress. PHP is a back-end programming language or used for server-side development.">
    <meta itemprop="datePublished" content="2025-06-05T12:10:25+03:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Time and Date Synchronization For FreeBSD Server With NTP Time Server
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          7 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu">
  <li><a href="#-to-use-the-ntp-daemon-in-this-discussion-the-servers-used-are">📓 To use the NTP daemon, in this discussion the servers used are:</a></li>
</ul>

            </nav>
          </aside>
        
        <p>The clock on the computer tends to be inaccurate, always changing from time to time, especially on Windows-based systems, if not synchronized properly will cause some applications to not run perfectly. In the WEB Browser program, if the clock on the computer is not accurate, then browsers such as Chrome, Mozilla and others will not be able to be opened.</p>

<p>The solution, Network Time Protocol (NTP) provides a way to maintain the accuracy of the computer’s system clock. NTP is an internet protocol used to synchronize time across multiple servers. FreeBSD includes an NTP daemon program (ntpd) that manages and maintains system time by synchronizing with the NTP server.</p>

<p>To set up the NTP daemon we must first install it. In this discussion we will discuss how to install and synchronize the NTP daemon.</p>

<h2 id="-to-use-the-ntp-daemon-in-this-discussion-the-servers-used-are">📓 To use the NTP daemon, in this discussion the servers used are:</h2>
<ul>
  <li>Processor: AMD Phenom(tm) II X4 955 Processor (K8-class CPU).</li>
  <li>OS: 14.1-STABLE.</li>
  <li>Server IP: 192.168.5.234.</li>
  <li>Hostname: router2.</li>
  <li>NTP version: 4.2.8p18.</li>
</ul>

<p>FreeBSD uses Network Time Protocol (NTP) to synchronize the computer’s system clock over a variable latency data network routed via UDP packets. NTP uses UDP port 123. If you have a single computer or a single server, you can easily synchronize the time with other NTP servers.</p>

<p>All you need is an ntp client called ntpdate. This client is used to set the date and time through an NTP server. Let’s practice how to set NTP Clock Synchronization on FreeBSD with ntpd and ntpdate.</p>

<p>As a first step, we install the zoneinfo program.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router2:~ #</span><span class="w"> </span><span class="nb">cd</span> /usr/ports/misc/zoneinfo
<span class="gp">root@router2:/usr/ports/misc/zoneinfo #</span><span class="w"> </span>make <span class="nb">install </span>clean
</code></pre></div></div>

<p>After the zoneinfo program is successfully installed, copy the Jakarta time zone or other time to local time.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router2:~ #</span><span class="w"> </span><span class="nb">cp</span> /usr/share/zoneinfo/Asia/Jakarta /etc/localtime
</code></pre></div></div>

<p>The next step is to install the NTP daemon.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router2:~ #</span><span class="w"> </span><span class="nb">cd</span> /usr/ports/net/ntp
<span class="gp">root@router2:/usr/ports/net/ntp #</span><span class="w"> </span>make <span class="nb">install </span>clean
</code></pre></div></div>

<p>If you want to use the <code class="language-plaintext highlighter-rouge">PKG package</code> to install <code class="language-plaintext highlighter-rouge">NTP</code>, run the following command.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router2:~ #</span><span class="w"> </span>pkg <span class="nb">install </span>net/ntp
</code></pre></div></div>

<p>After that, continue by creating <code class="language-plaintext highlighter-rouge">log</code> and <code class="language-plaintext highlighter-rouge">drift</code> files.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router2:~ #</span><span class="w"> </span><span class="nb">touch</span> /var/db/ntpd.drift
<span class="gp">root@router2:~ #</span><span class="w"> </span><span class="nb">touch</span> /var/log/ntpd.log
</code></pre></div></div>
<p>In the <code class="language-plaintext highlighter-rouge">/boot/loader.conf</code> file, enter the following script.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router2:~ #</span><span class="w"> </span>ee /boot/loader.conf
<span class="go">mac_ntpd_load="YES"
</span></code></pre></div></div>
<p>Also include the following script in the <code class="language-plaintext highlighter-rouge">/etc/sysctl.conf</code> file.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router2:~ #</span><span class="w"> </span>ee /etc/sysctl.conf
<span class="go">security.mac.ntpd.enabled=1
security.mac.ntpd.uid=123
</span></code></pre></div></div>

<p>To allow the NTP daemon to directly connect to one of the time servers, create the following script in the <code class="language-plaintext highlighter-rouge">/etc/crontab</code> file.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router2:~ #</span><span class="w"> </span>ee /etc/crontab
<span class="go">* */12 * * * /usr/local/sbin/ntpdate time.cloudflare.com
</span></code></pre></div></div>

<p>To keep the NTP daemon running, you need to add a script to the periodic.conf file in the <code class="language-plaintext highlighter-rouge">/etc/defaults</code> folder. Find the number 480 and add the following script.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router2:~ #</span><span class="w"> </span>ee /etc/defaults/periodic.conf
<span class="go">daily_status_ntpd_enable="YES"
daily_ntpd_leapfile_enable="YES"
</span></code></pre></div></div>

<p>To play <code class="language-plaintext highlighter-rouge">log</code> files, you can add the following script to the <code class="language-plaintext highlighter-rouge">/etc/syslog.conf</code> file and the <code class="language-plaintext highlighter-rouge">/etc/newsyslog.conf</code> file.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router2:~ #</span><span class="w"> </span>ee /etc/syslog.conf
<span class="go">!ntpdate
*.*                     /var/log/ntpd.log
!ntpdate
*.*                     /var/log/ntpd.log
</span></code></pre></div></div>

<p><br /></p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router2:~ #</span><span class="w"> </span>ee /etc/newsyslog.conf
<span class="go">/var/log/ntp.log         600   10     300     *     J
</span></code></pre></div></div>

<p>To keep the NTP daemon running when the server is restarted/rebooted or shut down, add the following script to the <code class="language-plaintext highlighter-rouge">/etc/rc.conf</code> file.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router2:~ #</span><span class="w"> </span>ee /etc/rc.conf
<span class="go">ntpd_enable="YES"
ntpdate_enable="YES"
ntpd_config="/etc/ntp.conf"
ntpd_program="/usr/local/sbin/ntpd"
ntpdate_program="/usr/local/sbin/ntpdate"
ntpdate_flags="time.cloudflare.com"
ntpd_sync_on_start="YES"
ntpd_oomprotect="YES"
ntpd_flags="-f /var/db/ntpd.drift -l /var/log/ntpd.log"
</span></code></pre></div></div>

<p>The final configuration of the NTP daemon is editing the <code class="language-plaintext highlighter-rouge">/etc/ntp.conf</code> file. Based on the original or default script from the <code class="language-plaintext highlighter-rouge">/etc/ntp.conf</code> file, there are several things that must be enabled and there are scripts that can be added. At the end of this article, a complete example of the <code class="language-plaintext highlighter-rouge">/etc/ntp.conf</code> script will be given. In the <code class="language-plaintext highlighter-rouge">/etc/ntp.conf</code> file, the time servers used are:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>server time.cloudflare.com iburst
server time.windows.com iburst
server time.nist.gov iburst
server time-a.nist.gov iburst
server time-b.nist.gov iburst
server clock.sjc.he.net iburst
server hydrogen.constant.com iburst
server t1.timegps.net iburst
</code></pre></div></div>

<p>If you want your server IP as the NTP server address, add the following script in the <code class="language-plaintext highlighter-rouge">/etc/conf</code> file.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>interface ignore wildcard
interface listen 192.168.5.234
</code></pre></div></div>

<p>After we edit the <code class="language-plaintext highlighter-rouge">/etc/ntp.conf</code> file, RESTART the NTP daemon.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router2:~ #</span><span class="w"> </span>service ntpd restart
</code></pre></div></div>

<p>Usually the NTP daemon is not immediately synchronized, wait for 2 or 4 hours, even up to 1 day, then the NTP daemon is SYNCRONIZED and ready to use.</p>

<p>To further ensure whether the NTP daemon is RUNNING or not, do a test.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router2:~ #</span><span class="w"> </span>ps ax | <span class="nb">grep </span>ntpd
<span class="gp">root@router2:~ #</span><span class="w"> </span>sockstat | <span class="nb">grep </span>ntp
<span class="gp">root@router2:~ #</span><span class="w"> </span><span class="nb">date</span>
<span class="gp">root@router2:~ #</span><span class="w"> </span>ntpq <span class="nt">-pn</span>
<span class="gp">root@router2:~ #</span><span class="w"> </span>ntpq <span class="nt">-p</span> 192.168.9.3
<span class="gp">root@router2:~ #</span><span class="w"> </span>ntpdate <span class="nt">-q</span> 192.168.9.3
<span class="gp">root@router2:~ #</span><span class="w"> </span>ntpdate <span class="nt">-q</span> time.cloudflare.com
<span class="gp">root@router2:~ #</span><span class="w"> </span>ntpq <span class="nt">-p</span>
</code></pre></div></div>

<p>When testing using the <code class="language-plaintext highlighter-rouge">ntpq -p</code> script, the image that appears will be like this:</p>

<p><br /></p>

<p><img src="https://gitea.com/UnixBSDShell/Web-Static-With-Ruby-Jekyll-Site-NetBSD/raw/branch/main/images/1NTP%20-p%20command.jpg" alt="ntp -q command" /></p>

<p><br /></p>

<p>Below is an explanation of the script code above.</p>
<ul>
  <li>“*” : The last peer to synchronize.</li>
  <li>”+” : “Good” The server is carrying out the update process.</li>
  <li>”-“ : “Bad” The server does not update.</li>
  <li>“x” : Server is not responding</li>
</ul>

<p>To set up synchronization on Windows XP/7/8, right-click on the date clock icon at the bottom right, then click Adjust <code class="language-plaintext highlighter-rouge">date/time</code>, select the Internet Time tab and then click Change settings.</p>

<p><br /></p>

<p><img src="https://gitea.com/UnixBSDShell/Web-Static-With-Ruby-Jekyll-Site-NetBSD/raw/branch/main/images/2Setup%20NTP%20Server%20on%20Windows.jpg" alt="Setup NTP Server on Windows" /></p>

<p><br /></p>

<p>The clock is successfully synchronized with <code class="language-plaintext highlighter-rouge">192.168.5.234</code> which means that the NTP daemon that we configured is <strong>RUNNING</strong>, the proof is that our Windows computer can already synchronize with the IP Time Server that we have configured on FreeBSD Server.</p>

<p><strong>The following is the complete script from the /etc/ntp.conf file.</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#
# $FreeBSD$
#
# Default NTP servers for the FreeBSD operating system.
#
# Don't forget to enable ntpd in /etc/rc.conf with:
# ntpd_enable="YES"
#
# The driftfile is by default /var/db/ntpd.drift, check
# /etc/defaults/rc.conf on how to change the location.
#
interface ignore wildcard
interface listen 192.168.9.3
#
# Set the target and limit for adding servers configured via pool statements
# or discovered dynamically via mechanisms such as broadcast and manycast.
# Ntpd automatically adds maxclock-1 servers from configured pools, and may
# add as many as maxclock*2 if necessary to ensure that at least minclock
# servers are providing good consistent time.
#
tos minclock 3 maxclock 6

#
# The following pool statement will give you a random set of NTP servers
# geographically close to you.  A single pool statement adds multiple
# servers from the pool, according to the tos minclock/maxclock targets.
# See http://www.pool.ntp.org/ for details.  Note, pool.ntp.org encourages
# users with a static IP and good upstream NTP servers to add a server
# to the pool. See http://www.pool.ntp.org/join.html if you are interested.
#
# The option `iburst' is used for faster initial synchronization.
#
#pool 0.freebsd.pool.ntp.org iburst

#
# If you want to pick yourself which country's public NTP server
# you want to sync against, comment out the above pool, uncomment
# the next one, and replace CC with the country's abbreviation.
# Make sure that the hostname resolves to a proper IP address!
#
#pool 0.nettime.pool.ntp.org iburst

#
# To configure a specific server, such as an organization-wide local
# server, add lines similar to the following.  One or more specific
# servers can be configured in addition to, or instead of, any server
# pools specified above.  When both are configured, ntpd first adds all
# the specific servers, then adds servers from the pool until the tos
# minclock/maxclock targets are met.
#
server time.cloudflare.com iburst
server time.windows.com iburst
server time.nist.gov iburst
server time-a.nist.gov iburst
server time-b.nist.gov iburst
server clock.sjc.he.net iburst
server hydrogen.constant.com iburst
server t1.timegps.net iburst


#
# Security:
#
# By default, only allow time queries and block all other requests
# from unauthenticated clients.
#
# The "restrict source" line allows peers to be mobilized when added by
# ntpd from a pool, but does not enable mobilizing a new peer association
# by other dynamic means (broadcast, manycast, ntpq commands, etc).
#
# See http://support.ntp.org/bin/view/Support/AccessRestrictions
# for more information.
#
#restrict default limited kod nomodify notrap noquery nopeer
#restrict source  limited kod nomodify notrap noquery

#
# Alternatively, the following rules would block all unauthorized access.
#
#restrict default ignore
#
# In this case, all remote NTP time servers also need to be explicitly
# allowed or they would not be able to exchange time information with
# this server.
#
# Please note that this example doesn't work for the servers in
# the pool.ntp.org domain since they return multiple A records.
#
#restrict 0.pool.ntp.org nomodify nopeer noquery notrap
#restrict 1.pool.ntp.org nomodify nopeer noquery notrap
#restrict 2.pool.ntp.org nomodify nopeer noquery notrap
#
# The following settings allow unrestricted access from the localhost
restrict 192.168.9.0 mask 255.255.255.0 nomodify notrap nopeer
restrict ::1
broadcast 192.168.9.255
#
# If a server loses sync with all upstream servers, NTP clients
# no longer follow that server. The local clock can be configured
# to provide a time source when this happens, but it should usually
# be configured on just one server on a network. For more details see
# http://support.ntp.org/bin/view/Support/UndisciplinedLocalClock
# The use of Orphan Mode may be preferable.
#
#server 127.127.1.0
#fudge 127.127.1.0 stratum 10

# See http://support.ntp.org/bin/view/Support/ConfiguringNTP#Section_6.14.
# for documentation regarding leapfile. Updates to the file can be obtained
# from ftp://time.nist.gov/pub/ or ftp://tycho.usno.navy.mil/pub/ntp/.
# Use either leapfile in /etc/ntp or periodically updated leapfile in /var/db.
#leapfile "/etc/ntp/leap-seconds"
leapfile "/var/db/ntpd.leap-seconds.list"
driftfile "/var/db/ntpd.drift"
logfile "/var/log/ntpd.log"


# Specify the number of megabytes of memory that should be allocated and
# locked. -1 (default) means "do not lock the process into memory".
# 0 means "lock whatever memory the process wants into memory". Any other
# number means to lock up to that number of megabytes into memory.
# 0 may result in a segfault when ASLR with stack gap randomization
# is enabled.
#rlimit memlock 32
</code></pre></div></div>
<p><strong>Congratulations!</strong> You have successfully installed an NTP server on FreeBSD. Now your FreeBSD server is synchronized with international time.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#unixshell" class="page__taxonomy-item" rel="tag">UnixShell</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#freebsd" class="page__taxonomy-item" rel="tag">FreeBSD</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2025-06-05T12:10:25+03:00">June 5, 2025</time></p>


      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?via=iwanset96143401&text=Time+and+Date+Synchronization+For+FreeBSD+Server+With+NTP+Time+Server%20https%3A%2F%2Funixwinbsd.site%2Ffreebsd%2Ftime-date-synchronization-freebsd-ntp-time-server%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Funixwinbsd.site%2Ffreebsd%2Ftime-date-synchronization-freebsd-ntp-time-server%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Funixwinbsd.site%2Ffreebsd%2Ftime-date-synchronization-freebsd-ntp-time-server%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/freebsd/laravel-php-composer-freebsd-hosting/" class="pagination--pager" title="FreeBSD Server for Composer Laravel Hosting - Installation and Configuration
">Previous</a>
    
    
      <a href="/freebsd/static-ip-hostname-host-name-server/" class="pagination--pager" title="FreeBSD Static IP Implementation with Hostname Host and Name Server
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/installation-java-development-kit-on-freebsd/" rel="permalink">Installing and Using the Java Development Kit on FreeBSD
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          8 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Redmine is open source software or application that uses the Ruby On Rails Framework. Redmine is a project management or project tracking application which r...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/how-to-install-webmin-on-freebsd-machine/" rel="permalink">How to Install Webmin on a FreeBSD System
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Webmin is a web-based system administration tool for Unix-like servers, and a service with approximately 1,000,000 annual installations worldwide
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/configuration-radicale-caldav-cardavv-server-freebsd/" rel="permalink">How to Configure FreeBSD with Radicale CalDAV CardDAV Server
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Radicale is run with the help of the Apache or NGINX web server, so it can be operated either as a standalone package using its internal http/https server or...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/setup-mirror-site-convert-pkg-package-freebsd/" rel="permalink">Setting up a Mirror Site to convert PKG Packages on FreeBSD
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">PKG packages on FreeBSD contain pre-compiled software packages – called packages. This is the easiest way to install additional software under TwinCAT/BSD or...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/catanesi/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn Profile</a></li>
        
      
        
          <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> Website</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 UnixBSDShell Blog. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "https://unixwinbsd.site/freebsd/time-date-synchronization-freebsd-ntp-time-server/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/freebsd/time-date-synchronization-freebsd-ntp-time-server"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://UnixBSDShell.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  







  </body>
</html>
