<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.20.2 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Installing DNSCrypt-proxy on OpenBSD - UnixBSDShell</title>
<meta name="description" content="DNSCrypt proxy is able to block inappropriate content locally, know where your device sends data, speed up applications by storing DNS responses in its cache database. Thus, it can improve security and privacy by communicating with DNS servers over a secure channel. This helps prevent snooping, DNS hijacking, and MITM attacks.">


  <meta name="author" content="UnixBSDShell's Blog">
  
  <meta property="article:author" content="UnixBSDShell's Blog">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="UnixBSDShell">
<meta property="og:title" content="Installing DNSCrypt-proxy on OpenBSD">
<meta property="og:url" content="https://unixwinbsd.site/freebsd/installing-dnscrypt-proxy-openbsd/">


  <meta property="og:description" content="DNSCrypt proxy is able to block inappropriate content locally, know where your device sends data, speed up applications by storing DNS responses in its cache database. Thus, it can improve security and privacy by communicating with DNS servers over a secure channel. This helps prevent snooping, DNS hijacking, and MITM attacks.">





  <meta name="twitter:site" content="@iwanset96143401">
  <meta name="twitter:title" content="Installing DNSCrypt-proxy on OpenBSD">
  <meta name="twitter:description" content="DNSCrypt proxy is able to block inappropriate content locally, know where your device sends data, speed up applications by storing DNS responses in its cache database. Thus, it can improve security and privacy by communicating with DNS servers over a secure channel. This helps prevent snooping, DNS hijacking, and MITM attacks.">
  <meta name="twitter:url" content="https://unixwinbsd.site/freebsd/installing-dnscrypt-proxy-openbsd/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2025-06-03T12:41:11+03:00">





  

  


<link rel="canonical" href="https://unixwinbsd.site/freebsd/installing-dnscrypt-proxy-openbsd/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "UnixBSDShell Blog",
      "url": "https://unixwinbsd.site/"
    
  }
</script>


  <meta name="google-site-verification" content="googledc9be5e5382da4fd" />


  <meta name="msvalidate.01" content="BCDF1444D895EBA62C6422C90DF8EA1C">



  <meta name="yandex-verification" content="69d778baa1dbd371">


<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="UnixBSDShell Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- <script data-ad-client="ca-pub-8799681346916578" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> -->

<!-- end custom head snippets -->


<meta name="google-site-verification" content="RT2u0cL3NCPK3ydcuewM50F8hvklo6JxBJGxu0zypiw" />
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js', 'ym');

    ym(95812963, 'init', {webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/95812963" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=GT-TNPXBWRM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'GT-TNPXBWRM');
</script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RWLWYNFRW0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RWLWYNFRW0');
</script>

<script>
gtag('set', 'user_data', {
"email": datainchi@gmail.com,
"phone_number": +6281289065249,
"address": {
"first_name": Iwan,
"last_name": Setiawan,
"street": Kp. Warung Bongkok RT. 002/01,
"city": Kabupaten Bekasi,
"region": Jawa Barat,
"postal_code": 17841,
"country": Indonesia
}
});
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N7TLZSRG');</script>
<!-- End Google Tag Manager -->



  </head>

  <body class="layout--single">

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N7TLZSRG"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          UnixBSDShell
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/">Posts by Category</a>
            </li><li class="masthead__menu-item">
              <a href="/year-archive/">Posts by Year</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="https://unixwinbsd.site/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#freebsd" itemprop="item"><span itemprop="name">Freebsd</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Installing DNSCrypt-proxy on OpenBSD</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/pscustomobject.jpg" alt="UnixBSDShell's Blog" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">UnixBSDShell's Blog</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>unixwinbsd.site is an online learning platform that provides online tutorials and videos about unix, FreeBSD, OpenBSD and Linux. Not only that, unixwinbsd.site also presents a variety of topics, including software development, programming, web design, and more. This blog provides various online tutorials and videos for beginners and experienced professionals. This blog also provides a Q&amp;A forum for users to ask questions and get help from other members.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Moscow, Russia</span>
        </li>
      

      
        
          
            <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
          
        
          
            <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">DevOps Notes</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/iwan-setiawan-943659164/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
            <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
      

      

      
        <li>
          <a href="mailto:iwanse1212@yandex.com">
            <meta itemprop="email" content="iwanse1212@yandex.com" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span>
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Installing DNSCrypt-proxy on OpenBSD">
    <meta itemprop="description" content="DNSCrypt proxy is able to block inappropriate content locally, know where your device sends data, speed up applications by storing DNS responses in its cache database. Thus, it can improve security and privacy by communicating with DNS servers over a secure channel. This helps prevent snooping, DNS hijacking, and MITM attacks.">
    <meta itemprop="datePublished" content="2025-06-03T12:41:11+03:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Installing DNSCrypt-proxy on OpenBSD
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu">
  <li><a href="#1-how-to-install-dnscrypt-proxy-encrypted-dns-server">1. How to Install DNSCrypt Proxy (encrypted DNS server)</a></li>
  <li><a href="#2-how-to-configure-dnscrypt-proxy-encrypted-dns-server">2. How to Configure DNSCrypt Proxy (encrypted DNS server)</a></li>
</ul>

            </nav>
          </aside>
        
        <p>DNSCrypt is a specification implemented in dnsdist, unbound, dnscrypt-wrapper, and dnscrypt-proxy software. DNSCrypt is software designed to serve a very flexible DNS proxy. This service can run on server computers, such as Linux, BSD, Windows, and MaxOS. You can also install DNSCrypt proxy on firewall routers such as PFSense, OpnSense, OpenWRT, and Mikrotik.</p>

<p>DNSCrypt proxy is able to block inappropriate content locally, know where your device sends data, speed up applications by storing DNS responses in its cache database. Thus, it can improve security and privacy by communicating with DNS servers over a secure channel. This helps prevent snooping, DNS hijacking, and MITM attacks.</p>

<p>DNScrypt-proxy is a DNS proxy that supports many modern encrypted DNS protocols such as DNSCrypt v2, DNS-over-HTTPS, and Anonymous DNSCrypt. The software is open source and available as precompiled binaries for most operating systems and architectures.</p>

<p>Here are the characteristics of DNScrypt proxy that you should know:</p>
<ul>
  <li>Encrypt and authenticate DNS traffic. Supports DNS-over-HTTPS (DoH) using TLS 1.3, DNSCrypt, and anonymous DNS.</li>
  <li>Monitor DNS queries with separate log files for normal and suspicious queries.</li>
  <li>Client IP addresses can be hidden using Tor, SOCKS proxies, or anonymous DNS relays.</li>
  <li>Filter by time with flexible weekly schedules.</li>
  <li>Filtering: Block ads, malware, and other unwanted content. Compatible with all DNS services.</li>
  <li>Local IPv6 blocking to reduce latency on IPv4-only networks.</li>
  <li>DNS caching to reduce latency and increase privacy.</li>
  <li>Transparent redirection of specific domains to specific resolvers.</li>
  <li>Can force outgoing connections to use TCP.</li>
  <li>Includes a local DoH server to support ECHO (ESNI).</li>
  <li>Compatible with DNSSEC.</li>
  <li>Load Balancing: Select a set of resolvers, dnscrypt-proxy will automatically measure and monitor their speed, and balance traffic between the fastest available.</li>
  <li>Automatic updating of the resolver list in the background.</li>
  <li>Obfuscation: Like a more advanced HOSTS file that can return pre-configured addresses for a given name or resolve and return IP addresses for other names. This can be used for local development as well as providing secure search results on Google, Yahoo, DuckDuckGo, and Bing.</li>
</ul>

<h2 id="1-how-to-install-dnscrypt-proxy-encrypted-dns-server">1. How to Install DNSCrypt Proxy (encrypted DNS server)</h2>
<p>On OpenBSD, you no longer need to look for the DNScrypt proxy binary file, in the PKG package repository there is a ready-made and complete file, you can install it directly. In this first part, we will learn how to install an encrypted DNS server (DNSCrypt) using the <code class="language-plaintext highlighter-rouge">OpenBSD PKG package</code>. In writing this article, we use <code class="language-plaintext highlighter-rouge">OpenBSD 7.5</code>. The installation process is quite easy, you can follow the following commands.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">ns3#</span><span class="w"> </span>pkg_add dnscrypt-proxy
</code></pre></div></div>
<p>Once installed, Encrypted DNS Server (DNSCrypt) has sample configuration files stored in <code class="language-plaintext highlighter-rouge">/usr/local/share/examples/dnscrypt-proxy</code>. Meanwhile, the main configuration file is stored in the <code class="language-plaintext highlighter-rouge">/var/dnscrypt-proxy</code> directory.</p>

<p>Once you know the location of the configuration file, we continue with the following steps.</p>

<h2 id="2-how-to-configure-dnscrypt-proxy-encrypted-dns-server">2. How to Configure DNSCrypt Proxy (encrypted DNS server)</h2>
<p>This part is the most complicated part, because we will set all the functions and work of the DNScrypt proxy. If you write one script wrong, the DNScrypt proxy may not work perfectly. Unlike other applications running on OpenBSD, the main configuration file ends with <code class="language-plaintext highlighter-rouge">*.conf</code>. The main DNScrypt proxy configuration file is of the Cargo Toml type, which has the <code class="language-plaintext highlighter-rouge">*.toml</code> extension. The main configuration file is located in <code class="language-plaintext highlighter-rouge">/etc/dnscrypt-proxy.toml</code>.</p>

<p>Before we run the DNScrypt proxy, you must first change the <code class="language-plaintext highlighter-rouge">/etc/dnscrypt-proxy.toml</code> file. How to activate the DNScrypt proxy script by removing the <strong>”#”</strong> sign in front of the script. The first thing you must activate is to select the list of servers used. There are many server options that you can use. Don’t forget to also activate the interface (listen), on which IP and port DNScrypt will run. See the example script <code class="language-plaintext highlighter-rouge">/etc/dnscrypt-proxy.toml</code> below.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">server_names = ['scaleway-fr', 'google', 'yandex', 'cloudflare']
listen_addresses = ['192.168.5.3:5300']
</span></code></pre></div></div>
<p>You also set up a remote server, multiple sources can be used simultaneously, but each source requires a dedicated cache file.</p>

<p>Activate some of the scripts below in the <code class="language-plaintext highlighter-rouge">/etc/dnscrypt-proxy.toml</code> file.</p>

<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[sources]</span>

  <span class="nn">[sources.public-resolvers]</span>
    <span class="py">urls</span> <span class="p">=</span> <span class="p">[</span><span class="s">'https://raw.githubusercontent.com/DNSCrypt/dnscrypt-resolvers/master/v3/public-resolvers.md'</span><span class="p">,</span> <span class="s">'https://download.dnscrypt.info/resolvers-list/v3/public-resolvers.md'</span><span class="p">]</span>
    <span class="py">cache_file</span> <span class="p">=</span> <span class="s">'/var/dnscrypt-proxy/public-resolvers.md'</span>
    <span class="py">minisign_key</span> <span class="p">=</span> <span class="s">'RWQf6LRCGA9i53mlYecO4IzT51TGPpvWucNSCh1CBM0QTaLn73Y7GFO3'</span>
    <span class="py">refresh_delay</span> <span class="p">=</span> <span class="mi">72</span>
    <span class="py">prefix</span> <span class="p">=</span> <span class="s">''</span>

  <span class="nn">[sources.relays]</span>
    <span class="py">urls</span> <span class="p">=</span> <span class="p">[</span><span class="s">'https://raw.githubusercontent.com/DNSCrypt/dnscrypt-resolvers/master/v3/relays.md'</span><span class="p">,</span> <span class="s">'https://download.dnscrypt.info/resolvers-list/v3/relays.md'</span><span class="p">]</span>
    <span class="py">cache_file</span> <span class="p">=</span> <span class="s">'/var/dnscrypt-proxy/relays.md'</span>
    <span class="py">minisign_key</span> <span class="p">=</span> <span class="s">'RWQf6LRCGA9i53mlYecO4IzT51TGPpvWucNSCh1CBM0QTaLn73Y7GFO3'</span>
    <span class="py">refresh_delay</span> <span class="p">=</span> <span class="mi">72</span>
    <span class="py">prefix</span> <span class="p">=</span> <span class="s">''</span>
</code></pre></div></div>
<p>To stabilize your DNS connection, you should create a static IP in your OpenBSD settings, and also add the script below to the <strong>/etc/resolv.conf</strong> file (adjust to your OpenBSD system).</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">domain kursor.my.id
nameserver 192.168.5.3
</span></code></pre></div></div>
<p>After setting all the necessary configurations, run the DNScrypt proxy with the command below.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">ns3#</span><span class="w"> </span>rcctl <span class="nb">enable </span>dnscrypt_proxy
<span class="gp">ns3#</span><span class="w"> </span>rcctl restart dnscrypt_proxy
</code></pre></div></div>
<p>To determine whether the DNScrypt proxy is running or not, test whether the DNScrypt proxy port is open and responding to DNS requests from clients.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">ns3#</span><span class="w"> </span>dig <span class="nt">-p</span> 5300 yahoo.com @192.168.5.3
<span class="go">
</span><span class="gp">;</span><span class="w"> </span>&lt;&lt;<span class="o">&gt;&gt;</span> dig 9.10.8-P1 &lt;&lt;<span class="o">&gt;&gt;</span> <span class="nt">-p</span> 5300 yahoo.com @192.168.5.3
<span class="gp">;</span><span class="p">;</span> global options: +cmd
<span class="gp">;</span><span class="p">;</span> Got answer:
<span class="gp">;</span><span class="p">;</span> -&gt;&gt;HEADER<span class="o">&lt;&lt;-</span> <span class="no">opcode</span><span class="sh">: QUERY, status: NOERROR, id: 35022
</span><span class="gp">;</span><span class="sh">; flags: qr rd ra; QUERY: 1, ANSWER: 6, AUTHORITY: 0, ADDITIONAL: 1
</span><span class="go">
</span><span class="gp">;</span><span class="p">;</span> OPT PSEUDOSECTION:
<span class="gp">;</span><span class="w"> </span>EDNS: version: 0, flags:<span class="p">;</span> udp: 512
<span class="gp">;</span><span class="p">;</span> QUESTION SECTION:
<span class="gp">;</span>yahoo.com.			IN	A
<span class="go">
</span><span class="gp">;</span><span class="p">;</span> ANSWER SECTION:
<span class="go">yahoo.com.		2400	IN	A	74.6.231.20
yahoo.com.		2400	IN	A	74.6.231.21
yahoo.com.		2400	IN	A	74.6.143.25
yahoo.com.		2400	IN	A	98.137.11.164
yahoo.com.		2400	IN	A	98.137.11.163
yahoo.com.		2400	IN	A	74.6.143.26

</span><span class="gp">;</span><span class="p">;</span> Query <span class="nb">time</span>: 18 msec
<span class="gp">;</span><span class="p">;</span> SERVER: 192.168.5.3#5300<span class="o">(</span>192.168.5.3<span class="o">)</span>
<span class="gp">;</span><span class="p">;</span> WHEN: Sat May 11 09:55:34 WIB 2024
<span class="gp">;</span><span class="p">;</span> MSG SIZE  rcvd: 134
<span class="gp">Note the script `192.168.5.3#</span>5300<span class="o">(</span>192.168.5.3<span class="o">)</span><span class="sb">`</span> above, it means that DNScrypt has successfully answered the client<span class="s1">'s DNS lookup request. You can change the private IP `192.168.5.3` with your OpenBSD server'</span>s private IP, and you can also change the port used <span class="o">(</span>adjust to your OpenBSD system<span class="o">)</span><span class="nb">.</span>
<span class="go">
To do all that, you change the script `/etc/dnscrypt-proxy.toml`

```console
server_names = ['scaleway-fr', 'google', 'yandex', 'cloudflare']
listen_addresses = ['192.168.5.3:5300']
max_clients = 250
user_name = '_dnscrypt-proxy'
ipv4_servers = true
ipv6_servers = false
dnscrypt_servers = true
doh_servers = true
odoh_servers = false
require_dnssec = true
require_nolog = true
require_nofilter = true
disabled_server_names = []
force_tcp = true
http3 = false
timeout = 5000
keepalive = 30
cert_refresh_delay = 240
bootstrap_resolvers = ['9.9.9.11:53', '8.8.8.8:53']
ignore_system_dns = true
netprobe_timeout = 60
netprobe_address = '9.9.9.9:53'
log_files_max_size = 10
log_files_max_age = 7
log_files_max_backups = 1
block_ipv6 = false
block_unqualified = true
block_undelegated = true
reject_ttl = 10
cache = true
cache_size = 4096
cache_min_ttl = 2400
cache_max_ttl = 86400
cache_neg_min_ttl = 60
cache_neg_max_ttl = 600
dnscrypt_ephemeral_keys = true
tls_disable_session_tickets = true

[query_log]
file = '/var/dnscrypt-proxy/query.log'
format = 'tsv'

[sources]

  [sources.public-resolvers]
    urls = ['https://raw.githubusercontent.com/DNSCrypt/dnscrypt-resolvers/master/v3/public-resolvers.md', 'https://download.dnscrypt.info/resolvers-list/v3/public-resolvers.md']
    cache_file = '/var/dnscrypt-proxy/public-resolvers.md'
    minisign_key = 'RWQf6LRCGA9i53mlYecO4IzT51TGPpvWucNSCh1CBM0QTaLn73Y7GFO3'
    refresh_delay = 72
    prefix = ''

  [sources.relays]
    urls = ['https://raw.githubusercontent.com/DNSCrypt/dnscrypt-resolvers/master/v3/relays.md', 'https://download.dnscrypt.info/resolvers-list/v3/relays.md']
    cache_file = '/var/dnscrypt-proxy/relays.md'
    minisign_key = 'RWQf6LRCGA9i53mlYecO4IzT51TGPpvWucNSCh1CBM0QTaLn73Y7GFO3'
    refresh_delay = 72
    prefix = ''
</span></code></pre></div></div>
<p><strong>Congratulations!</strong> You have successfully run DNScrypt proxy on OpenBSD. As a final conclusion
of this article, I would like to say that to protect your internet traffic, we recommend using DNScrypt proxy combined with ISC-Bind or Unbound.</p>

<p>To further enhance the security of your DNS server, also use Haproxy as a gateway between DNScrypt proxy and ISC-Bind or Unbound.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#dnsserver" class="page__taxonomy-item" rel="tag">DNSServer</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#freebsd" class="page__taxonomy-item" rel="tag">FreeBSD</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2025-06-03T12:41:11+03:00">June 3, 2025</time></p>


      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?via=iwanset96143401&text=Installing+DNSCrypt-proxy+on+OpenBSD%20https%3A%2F%2Funixwinbsd.site%2Ffreebsd%2Finstalling-dnscrypt-proxy-openbsd%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Funixwinbsd.site%2Ffreebsd%2Finstalling-dnscrypt-proxy-openbsd%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Funixwinbsd.site%2Ffreebsd%2Finstalling-dnscrypt-proxy-openbsd%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/freebsd/database-website-apache-php-postgresql/" class="pagination--pager" title="Creating a Database Website with Apache24 PHP and PostgreSQL On FreeBSD
">Previous</a>
    
    
      <a href="/openbsd/installing-dns-bind-stunnel-openbsd/" class="pagination--pager" title="Bind DNS Server with TLS using Stunnel on OpenBSD
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/use-pfsense-pfBlockerNG-dnsbl-block-ads-malware/" rel="permalink">Use PFSense with pfBlockerNG DNSBL to Block Ads, Malware, Ransomware, and Web Tracking
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">By adding the pfBlockerNG package to your PFSense Router, you’ve blocked ads and also been able to block web tracking, ransomware, and malware. When you acti...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/installation-java-development-kit-on-freebsd/" rel="permalink">Installing and Using the Java Development Kit on FreeBSD
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          8 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Redmine is open source software or application that uses the Ruby On Rails Framework. Redmine is a project management or project tracking application which r...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/how-to-install-webmin-on-freebsd-machine/" rel="permalink">How to Install Webmin on a FreeBSD System
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Webmin is a web-based system administration tool for Unix-like servers, and a service with approximately 1,000,000 annual installations worldwide
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/configuration-radicale-caldav-cardavv-server-freebsd/" rel="permalink">How to Configure FreeBSD with Radicale CalDAV CardDAV Server
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Radicale is run with the help of the Apache or NGINX web server, so it can be operated either as a standalone package using its internal http/https server or...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/catanesi/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn Profile</a></li>
        
      
        
          <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> Website</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 UnixBSDShell Blog. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "https://unixwinbsd.site/freebsd/installing-dnscrypt-proxy-openbsd/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/freebsd/installing-dnscrypt-proxy-openbsd"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://UnixBSDShell.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  







  </body>
</html>
