<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.20.2 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Tutorials FreeBSD - Installation Guide PowerDNS - UnixBSDShell</title>
<meta name="description" content="Swoole is a framework for PHP based on asynchronous co-routines. Swoole is specifically designed to build large-scale concurrent systems">


  <meta name="author" content="UnixBSDShell's Blog">
  
  <meta property="article:author" content="UnixBSDShell's Blog">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="UnixBSDShell">
<meta property="og:title" content="Tutorials FreeBSD - Installation Guide PowerDNS">
<meta property="og:url" content="https://unixwinbsd.site/freebsd/tutorials-freeebsd-installation-guide-powerdns/">


  <meta property="og:description" content="Swoole is a framework for PHP based on asynchronous co-routines. Swoole is specifically designed to build large-scale concurrent systems">





  <meta name="twitter:site" content="@iwanset96143401">
  <meta name="twitter:title" content="Tutorials FreeBSD - Installation Guide PowerDNS">
  <meta name="twitter:description" content="Swoole is a framework for PHP based on asynchronous co-routines. Swoole is specifically designed to build large-scale concurrent systems">
  <meta name="twitter:url" content="https://unixwinbsd.site/freebsd/tutorials-freeebsd-installation-guide-powerdns/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2025-05-06T13:19:39+03:00">





  

  


<link rel="canonical" href="https://unixwinbsd.site/freebsd/tutorials-freeebsd-installation-guide-powerdns/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "UnixBSDShell Blog",
      "url": "https://unixwinbsd.site/"
    
  }
</script>


  <meta name="google-site-verification" content="googledc9be5e5382da4fd" />


  <meta name="msvalidate.01" content="BCDF1444D895EBA62C6422C90DF8EA1C">



  <meta name="yandex-verification" content="69d778baa1dbd371">


<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="UnixBSDShell Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- <script data-ad-client="ca-pub-8799681346916578" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> -->

<!-- end custom head snippets -->


<meta name="google-site-verification" content="RT2u0cL3NCPK3ydcuewM50F8hvklo6JxBJGxu0zypiw" />
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js', 'ym');

    ym(95812963, 'init', {webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/95812963" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=GT-TNPXBWRM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'GT-TNPXBWRM');
</script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RWLWYNFRW0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RWLWYNFRW0');
</script>

<script>
gtag('set', 'user_data', {
"email": datainchi@gmail.com,
"phone_number": +6281289065249,
"address": {
"first_name": Iwan,
"last_name": Setiawan,
"street": Kp. Warung Bongkok RT. 002/01,
"city": Kabupaten Bekasi,
"region": Jawa Barat,
"postal_code": 17841,
"country": Indonesia
}
});
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N7TLZSRG');</script>
<!-- End Google Tag Manager -->



  </head>

  <body class="layout--single">

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N7TLZSRG"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          UnixBSDShell
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/">Posts by Category</a>
            </li><li class="masthead__menu-item">
              <a href="/year-archive/">Posts by Year</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="https://unixwinbsd.site/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#freebsd" itemprop="item"><span itemprop="name">Freebsd</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Tutorials FreeBSD - Installation Guide PowerDNS</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/pscustomobject.jpg" alt="UnixBSDShell's Blog" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">UnixBSDShell's Blog</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>unixwinbsd.site is an online learning platform that provides online tutorials and videos about unix, FreeBSD, OpenBSD and Linux. Not only that, unixwinbsd.site also presents a variety of topics, including software development, programming, web design, and more. This blog provides various online tutorials and videos for beginners and experienced professionals. This blog also provides a Q&amp;A forum for users to ask questions and get help from other members.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Moscow, Russia</span>
        </li>
      

      
        
          
            <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
          
        
          
            <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">DevOps Notes</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/iwan-setiawan-943659164/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
            <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
      

      

      
        <li>
          <a href="mailto:iwanse1212@yandex.com">
            <meta itemprop="email" content="iwanse1212@yandex.com" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span>
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Tutorials FreeBSD - Installation Guide PowerDNS">
    <meta itemprop="description" content="Swoole is a framework for PHP based on asynchronous co-routines. Swoole is specifically designed to build large-scale concurrent systems">
    <meta itemprop="datePublished" content="2025-05-06T13:19:39+03:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Tutorials FreeBSD - Installation Guide PowerDNS
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          7 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu">
  <li><a href="#1-system-requirements">1. System Requirements</a></li>
  <li><a href="#2-setting-up-fqdn">2. Setting up FQDN</a></li>
  <li><a href="#3-install-powerdns">3. Install PowerDNS</a></li>
  <li><a href="#4-create-database-powerdns-server">4. Create Database PowerDNS server</a></li>
  <li><a href="#5-setting-up-powerdns">5. Setting Up PowerDNS</a></li>
  <li><a href="#6-creating-forward-zone">6. Creating Forward Zone</a></li>
  <li><a href="#7-creating-ptr-record">7. Creating PTR Record</a></li>
</ul>

            </nav>
          </aside>
        
        <p>Officially, PowerDNS consists of Authoritative Server and Recursor. PowerDNS is a DNS server written in C++ and licensed under the GPL. You can use both PowerDNS functions above or just one. The authoritative server will answer questions about the authoritative domain, namely the name server. Meanwhile, the Recursor function will ask other name servers on the Internet to find out about the query being asked.</p>

<p>Using PowerDNS can use other DNS servers such as Bind for recursion or use PowerDNS Recursor (pdns_recursor) which is run separately. PowerDNS written by Bert Hubert is a product of a Dutch company called powerdns.com. B.V. Currently, the PowerDNS community has spread widely with many contributors from the Open Source community.</p>

<p>For those of you who use Unix systems such as FreeBSD, OpenBSD and others, PowerDNS is the best DNS server solution that offers simplicity, stability and reliability. Instead of using text files, PowerDNS uses a database backend to store its data. Database servers supported by PowerDNS include MariaDB, MySQL, PostgreSQL, and SQLite3.</p>

<p>In this post, I’ll show you how to install PowerDNS with a MySQL server as the backend on FreeBSD 13.3. I’ll also cover using pdnsutil to manage zones and create domain names, and dig to check DNS connections and troubleshoot DNS servers.</p>

<p><img src="https://gitflic.ru/project/unixbsdshell/ruby-static-page-jekyll-rb-openbsd/blob/raw?file=assets/images/9FreeBSD%20PowerDNS%20Install.jpg&amp;commit=8253baaa6e40474a4e694f003f27154a68a58e4f" alt="diagram powerdns master replication" /></p>

<h2 id="1-system-requirements">1. System Requirements</h2>

<ul>
  <li>OS: FreeBSD 13.3</li>
  <li>Hostname: ns3</li>
  <li>IP server: 192.168.5.2</li>
  <li>MySQL server version: mysql80-server</li>
  <li>CPU: AMD Phenom II X4 965 3400 MHz</li>
</ul>

<h2 id="2-setting-up-fqdn">2. Setting up FQDN</h2>

<p>FQDN (Fully Qualified Domain Name) is a name that uniquely identifies a host on the Internet. FQDN must include the parent domain name. Fully Qualified Domain Name in DNS must end with a dot that indicates the root domain name. When you delegate a domain name, the name server or NS will be treated as the FQDN, which is the fully qualified domain name with a dot at the end.</p>

<p>Before you assign an FQDN to a FreeBSD server, check the FQDN name that is currently in use with the following command.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:~ #</span><span class="w"> </span><span class="nb">hostname</span>
<span class="go">ns5.unixwinbsd.com
</span></code></pre></div></div>
<p>In the command above we can see, the current active Hostname is “ns5” and the domain is “unixwinbsd.com”.</p>

<p>If you want to make the FQDN name permanent, in FreeBBSD the FQDN name is placed in the rc.conf file. Now run the following command to create a permanent FQDN configuration on FreeBSD.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:~ #</span><span class="w"> </span>sysrc <span class="nb">hostname</span><span class="o">=</span><span class="s2">"ns3.datainchi.com"</span>
<span class="gp">hostname: ns3.datainchi.com -&gt;</span><span class="w"> </span>ns3.datainchi.com
</code></pre></div></div>
<p>After that, using the “ee” editor, open the <code class="language-plaintext highlighter-rouge">/etc/hosts</code> file, and type the script below.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:~ #</span><span class="w"> </span>ee /etc/hosts
<span class="go">127.0.0.1		        localhost localhost.datainchi.com
192.168.5.2		ns3 ns3.datainchi.com
</span></code></pre></div></div>
<p>Next, to verify the domain name on your FreeBSD system, run the following command.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:~ #</span><span class="w"> </span><span class="nb">hostname</span> <span class="nt">-d</span>
<span class="gp">root@ns3:~ #</span><span class="w"> </span><span class="nb">hostname</span> <span class="nt">-f</span>
</code></pre></div></div>

<h2 id="3-install-powerdns">3. Install PowerDNS</h2>

<p>After you have finished configuring the FQDN domain that will be used on your FreeBSD server, proceed to the next step, namely installing PowerDNS. On FreeBSD, the PowerDNS repository is available in the PKG and Ports package managers. You can install PowerDNS in one of these ways. In this article we will install PowerDNS with a ports system.</p>

<p>You can install PowerDNS in two different ways: via the <code class="language-plaintext highlighter-rouge">PKG package manager and Ports</code>. In this example, you will install PowerDNS via PKG from the FreeBSD repository. To install PowerDNS on FreeBSD, follow this Guide.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:~ #</span><span class="w"> </span><span class="nb">cd</span> /usr/ports/dns/powerdns
<span class="gp">root@ns3:/usr/ports/dns/powerdns #</span><span class="w"> </span>make <span class="nb">install </span>clean
</code></pre></div></div>
<p>Don’t forget, also install powerdns-recursor, to activate PowerDNS Recursor.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:/usr/ports/dns/powerdns #</span><span class="w"> </span><span class="nb">cd</span> /usr/ports/dns/powerdns-recursor
<span class="gp">root@ns3:/usr/ports/dns/powerdns-recursor #</span><span class="w"> </span>make <span class="nb">install </span>clean
</code></pre></div></div>
<p>You also install the dig utility, to check the PowerDNS connection.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:~ #</span><span class="w"> </span>pkg <span class="nb">install</span> <span class="nt">-y</span> bind-tools
</code></pre></div></div>
<p>If the installation process is complete, continue by activating PowerDNS.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:~ #</span><span class="w"> </span>ee /etc/rc.conf
<span class="go">pdns_enable="YES"
pdns_conf="/usr/local/etc/pdns/pdns.conf"
pdns_recursor_enable="YES"
pdns_recursor_conf="/usr/local/etc/pdns/recursor.conf"
</span></code></pre></div></div>

<h2 id="4-create-database-powerdns-server">4. Create Database PowerDNS server</h2>

<p>You need to pay attention, PowerDNS uses a database server to store zone files. In this example we will use a MySQL database as the PowerDNS backend. But in this article, we are not discussing how to install MySQL, we will just assume that your FreeBSD server has MySQL server installed and is running normally. So we just create a database for PowerDNS. Follow the command script below.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:~ #</span><span class="w"> </span>mysql <span class="nt">-u</span> root <span class="nt">-p</span>
<span class="go">Enter password:
</span><span class="gp">Welcome to the MySQL monitor.  Commands end with ;</span><span class="w"> </span>or <span class="se">\g</span><span class="nb">.</span>
<span class="go">Your MySQL connection id is 11
Server version: 8.0.35 Source distribution

Copyright (c) 2000, 2023, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

</span><span class="gp">Type 'help;</span><span class="s1">' or '</span><span class="se">\h</span><span class="s1">' for help. Type '</span><span class="se">\c</span><span class="s1">' to clear the current input statement.
</span><span class="go">
</span><span class="gp">root@localhost [(none)]&gt;</span><span class="w"> </span>CREATE DATABASE pdns<span class="p">;</span>
<span class="go">Query OK, 1 row affected (0.25 sec)

</span><span class="gp">root@localhost [(none)]&gt;</span><span class="w"> </span>CREATE USER userpdns@localhost IDENTIFIED BY <span class="s1">'router123'</span><span class="p">;</span>
<span class="go">Query OK, 0 rows affected (0.12 sec)

</span><span class="gp">root@localhost [(none)]&gt;</span><span class="w"> </span>GRANT ALL PRIVILEGES ON pdns.<span class="k">*</span> TO userpdns@localhost<span class="p">;</span>
<span class="go">Query OK, 0 rows affected (0.05 sec)

</span><span class="gp">root@localhost [(none)]&gt;</span><span class="w"> </span>FLUSH PRIVILEGES<span class="p">;</span>
<span class="go">Query OK, 0 rows affected (0.04 sec)

</span><span class="gp">root@localhost [(none)]&gt;</span><span class="w"> </span>quit<span class="p">;</span>
<span class="go">Bye
</span><span class="gp">root@ns3:~ #</span><span class="w">
</span></code></pre></div></div>
<p>On FreeBSD the MySQL schema file is stored in <code class="language-plaintext highlighter-rouge">/usr/local/share/doc/powerdns</code>. Run the schema file with MySQL, as in the example below.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:~ #</span><span class="w"> </span>mysql <span class="nt">-u</span> userpdns <span class="nt">-p</span> pdns &lt; /usr/local/share/doc/powerdns/schema.mysql.sql
</code></pre></div></div>
<p>You can verify the MySQL database schema that will be used to store PowerDNS zones.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:~ #</span><span class="w"> </span>mysqlshow <span class="nt">-u</span> userpdns <span class="nt">-p</span> pdns
<span class="go">Enter password:
Database: pdns
+----------------+
|     Tables     |
+----------------+
| comments       |
| cryptokeys     |
| domainmetadata |
| domains        |
| records        |
| supermasters   |
| tsigkeys       |
+----------------+
</span></code></pre></div></div>

<h2 id="5-setting-up-powerdns">5. Setting Up PowerDNS</h2>

<p>The next step, you have to configure PowerDNS. The configuration files for the configuration are located at <code class="language-plaintext highlighter-rouge">/usr/local/etc/pdns</code>. Open the pdns.conf file and add the MySQL script as in the example below.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:~ #</span><span class="w"> </span><span class="nb">cd</span> /usr/local/etc/pdns
<span class="gp">root@ns3:/usr/local/etc/pdns #</span><span class="w"> </span>ee pdns.conf
<span class="go">allow-axfr-ips=0.0.0.0/0

allow-recursion=0.0.0.0/0

</span><span class="gp">#</span><span class="w"> </span>cache-ttl	Seconds to store packets <span class="k">in </span>the PacketCache
<span class="go">cache-ttl=20

config-dir=/usr/local/etc/pdns
control-console=no
daemon=yes
default-soa-name=ns3.datainchi.com

</span><span class="gp">#</span><span class="w"> </span>default-ttl	Seconds a result is valid <span class="k">if </span>not <span class="nb">set </span>otherwise
<span class="go">default-ttl=3600
guardian=no

launch=gmysql
</span><span class="gp">#</span><span class="w"> </span>gmysql parameters
<span class="go">gmysql-host=127.0.0.1
gmysql-port=3306
gmysql-dbname=pdns
gmysql-user=userpdns
gmysql-password=router123
gmysql-dnssec=yes

local-address=127.0.0.1, 192.168.5.2
</span><span class="gp">#</span><span class="w"> </span>local-ipv6<span class="o">=</span>
<span class="go">
local-port=5353
logfile=/var/log/pdns/pdns.log
loglevel=9

master=yes
max-queue-length=5000
max-tcp-connections=10
recursor=127.0.0.1

setgid=pdns
setuid=pdns

slave=yes
slave-cycle-interval=600

smtpredirector=
soa-expire-default=604800
soa-minimum-ttl=3600
soa-refresh-default=10800
soa-retry-default=3600
soa-serial-offset=0
socket-dir=/var/run/pdns

</span><span class="gp">#</span><span class="w"> </span>use-logfile	Use a log file
<span class="go">use-logfile=yes


version-string=powerdns
webserver=yes
webserver-address=192.168.5.2
</span><span class="gp">#</span><span class="w"> </span>webserver-password<span class="o">=</span>
<span class="go">webserver-port=8081
webserver-print-arguments=yes
</span></code></pre></div></div>
<p>After that, you change the <code class="language-plaintext highlighter-rouge">recursor.conf</code> file script.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:/usr/local/etc/pdns #</span><span class="w"> </span>ee recursor.conf
<span class="go">allow-from=127.0.0.0/8, 10.0.0.0/8

hint-file=/usr/local/etc/pdns/root.zone

local-address=127.0.0.1
local-port=53

max-tcp-clients=128


setgid=pdns
setuid=pdns_recursor

socket-dir=/var/run/pdns

version-string=PowerDNS Recursor
</span></code></pre></div></div>

<p>After that, you run the pdns_server command, to connect PowerDNS to the MySQL server and verify the database that PowerDNS will use.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:/usr/local/etc/pdns #</span><span class="w"> </span>pdns_server <span class="nt">--daemon</span><span class="o">=</span>no <span class="nt">--guardian</span><span class="o">=</span>no <span class="nt">--loglevel</span><span class="o">=</span>9
</code></pre></div></div>
<p>Create a PowerDNS log file.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:~ #</span><span class="w"> </span><span class="nb">mkdir</span> <span class="nt">-p</span> /var/log/pdns
<span class="gp">root@ns3:~ #</span><span class="w"> </span><span class="nb">touch</span> /var/log/pdns/pdns.log
<span class="gp">root@ns3:~ #</span><span class="w"> </span><span class="nb">touch</span> /var/log/pdns/pdns_recursor.log
</code></pre></div></div>
<p>Activate the log file in the <code class="language-plaintext highlighter-rouge">/etc/syslog.conf</code> file.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:~ #</span><span class="w"> </span>ee /etc/syslog.conf
<span class="go">!pdns
*.*      /var/log/pdns/pdns.log

!pdns_recursor
*.*      /var/log/pdns/pdns_recursor.log
</span></code></pre></div></div>
<p>Next, set the log file rotation, type the script below into the <code class="language-plaintext highlighter-rouge">/etc/newsyslog.conf</code> file.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:~ #</span><span class="w"> </span>ee /etc/newsyslog.conf
<span class="go">/var/log/pdns/*.log			644  7	   *	@T00  GJC
Run the PowerDNS log file `(/etc/newsyslog.conf)`

```console
</span><span class="gp">root@ns3:~ #</span><span class="w"> </span>service syslogd restart
<span class="go">Stopping syslogd.
Waiting for PIDS: 4712.
Starting syslogd.
</span><span class="gp">root@ns3:~ #</span><span class="w"> </span>service newsyslog restart
<span class="go">Creating and/or trimming log files.
</span></code></pre></div></div>
<p>When the installation process is complete, PoerDNS automatically creates a new user and group called <code class="language-plaintext highlighter-rouge">"pdns"</code>. Run the chown command to assign users and groups to PowerDNS.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:~ #</span><span class="w"> </span><span class="nb">chown</span> <span class="nt">-R</span> pdns:pdns /var/run/pdns
<span class="gp">root@ns3:~ #</span><span class="w"> </span><span class="nb">chown</span> <span class="nt">-R</span> pdns:pdns /usr/local/etc/pdns/pdns.conf
<span class="gp">root@ns3:~ #</span><span class="w"> </span><span class="nb">chown</span> <span class="nt">-R</span> pdns_recursor:pdns /usr/local/etc/pdns/recursor.conf
<span class="gp">root@ns3:~ #</span><span class="w"> </span><span class="nb">chown</span> <span class="nt">-R</span> pdns:pdns /var/log/pdns
</code></pre></div></div>
<p>The next step, run PowerDNS with the service command.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:~ #</span><span class="w"> </span>service pdns-recursor restart
<span class="gp">root@ns3:~ #</span><span class="w"> </span>service pdns restart
</code></pre></div></div>
<p>To check whether port 53 is open or not, you can check it with the following command.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:~ #</span><span class="w"> </span>sockstat <span class="nt">-4</span> <span class="nt">-p</span> 53
</code></pre></div></div>

<h2 id="6-creating-forward-zone">6. Creating Forward Zone</h2>

<p>Before you create a <code class="language-plaintext highlighter-rouge">"forward zone"</code> download the <code class="language-plaintext highlighter-rouge">root.zone</code> file first. Follow the example below.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:/usr/local/etc/pdns #</span><span class="w"> </span>wget ftp://ftp.rs.internic.net/domain/root.zone.gz <span class="o">&amp;&amp;</span> <span class="nb">gunzip </span>root.zone.gz
</code></pre></div></div>
<p>Once the PowerDNS server is active and running normally on FreeBSD, the next step is to create a name server, which can be done with the pdnsutil command. Pdnsutil is a command line for managing PowerDNS records and controlling DNSSEC commands.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:~ #</span><span class="w"> </span>pdnsutil create-zone datainchi.com ns3.datainchi.com
<span class="gp">root@ns3:~ #</span><span class="w"> </span>pdnsutil add-record datainchi.com ns3 A 192.168.5.2
<span class="gp">root@ns3:~ #</span><span class="w"> </span>pdnsutil list-zone datainchi.com
</code></pre></div></div>
<p>Final step, Finally, run the dig command to check the A and SOA records for the ns3.datainchi.com name server.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:~ #</span><span class="w"> </span>dig ns3.datainchi.com @127.0.0.1
<span class="gp">root@ns3:~ #</span><span class="w"> </span>dig SOA ns3.datainchi.com @127.0.0.1
</code></pre></div></div>
<p>We proceed by running the command below to check the zone configuration on your PowerDNS server. Then, verify the list of DNS records in the datainchi.com zone.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:~ #</span><span class="w"> </span>pdnsutil check-all-zones
<span class="gp">root@ns3:~ #</span><span class="w"> </span>pdnsutil list-zone datainchi.com
</code></pre></div></div>

<h2 id="7-creating-ptr-record">7. Creating PTR Record</h2>

<p>The final step is to create reverse zones or PTR records which will handle the translation of IP addresses to domain names. This section is the most important part of PowerDNS configuration. Run the command below to create a new reverse zone.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:/usr/local/etc/pdns #</span><span class="w"> </span>pdnsutil create-zone 5.168.192.in-addr.arpa ns3.datainchi.com
</code></pre></div></div>
<p>Add a record for name server ns3.datainchi.com to IP address <code class="language-plaintext highlighter-rouge">192.168.5.2</code>.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:/usr/local/etc/pdns #</span><span class="w"> </span>pdnsutil add-record 5.168.192.in-addr.arpa ns3 A 192.168.5.2
</code></pre></div></div>
<p>Next, run the command below to create a new PTR record for each of your domain names.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns3:/usr/local/etc/pdns #</span><span class="w"> </span>pdnsutil add-record 5.168.192.in-addr.arpa 80 PTR ns3.datainchi.com
<span class="gp">root@ns3:/usr/local/etc/pdns #</span><span class="w"> </span>pdnsutil add-record 5.168.192.in-addr.arpa 25 PTR ns3.datainchi.com
<span class="gp">root@ns3:/usr/local/etc/pdns #</span><span class="w"> </span>pdnsutil add-record 5.168.192.in-addr.arpa 35 PTR ns3.datainchi.com
<span class="gp">root@ns3:/usr/local/etc/pdns #</span><span class="w"> </span>pdnsutil add-record 5.168.192.in-addr.arpa 30 PTR ns3.datainchi.com
</code></pre></div></div>
<p>The Domain Name System (DNS) is very vulnerable. because if DNS is down then your website services that use DNS automatically cannot be used. PowerDNS provides the perfect solution, with backend database support making this DNS server the main choice for those of you who are designing a DNS server for reliable website needs.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#dnsserver" class="page__taxonomy-item" rel="tag">DNSServer</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#freebsd" class="page__taxonomy-item" rel="tag">FreeBSD</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2025-05-06T13:19:39+03:00">May 6, 2025</time></p>


      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?via=iwanset96143401&text=Tutorials+FreeBSD+-+Installation+Guide+PowerDNS%20https%3A%2F%2Funixwinbsd.site%2Ffreebsd%2Ftutorials-freeebsd-installation-guide-powerdns%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Funixwinbsd.site%2Ffreebsd%2Ftutorials-freeebsd-installation-guide-powerdns%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Funixwinbsd.site%2Ffreebsd%2Ftutorials-freeebsd-installation-guide-powerdns%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/freebsd/swoole-php-freebsd-install-example/" class="pagination--pager" title="How to Install and Example of Using Swoole PHP on FreeBSD 14.1
">Previous</a>
    
    
      <a href="/freebsd/tutorials-freeebsd-pyrocms-php-laravel/" class="pagination--pager" title="FreeBSD Tutorial Setting Up PyroCMS PHP CMS For Laravel Framework
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/installation-java-development-kit-on-freebsd/" rel="permalink">Installing and Using the Java Development Kit on FreeBSD
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          8 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Redmine is open source software or application that uses the Ruby On Rails Framework. Redmine is a project management or project tracking application which r...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/how-to-install-webmin-on-freebsd-machine/" rel="permalink">How to Install Webmin on a FreeBSD System
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Webmin is a web-based system administration tool for Unix-like servers, and a service with approximately 1,000,000 annual installations worldwide
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/configuration-radicale-caldav-cardavv-server-freebsd/" rel="permalink">How to Configure FreeBSD with Radicale CalDAV CardDAV Server
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Radicale is run with the help of the Apache or NGINX web server, so it can be operated either as a standalone package using its internal http/https server or...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/setup-mirror-site-convert-pkg-package-freebsd/" rel="permalink">Setting up a Mirror Site to convert PKG Packages on FreeBSD
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">PKG packages on FreeBSD contain pre-compiled software packages – called packages. This is the easiest way to install additional software under TwinCAT/BSD or...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/catanesi/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn Profile</a></li>
        
      
        
          <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> Website</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 UnixBSDShell Blog. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "https://unixwinbsd.site/freebsd/tutorials-freeebsd-installation-guide-powerdns/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/freebsd/tutorials-freeebsd-installation-guide-powerdns"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://UnixBSDShell.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  







  </body>
</html>
