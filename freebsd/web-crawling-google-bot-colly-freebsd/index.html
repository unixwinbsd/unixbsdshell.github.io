<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.20.2 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Creating a Web Crawling Googlebot with Colly on FreBSD 14 - UnixBSDShell</title>
<meta name="description" content="The Colly library is a Go package that can be used to create web scrapers and web crawlers. It is based on Go’s net/HTTP (for network communication) and goquery (which allows you to use a “jQuery-like” syntax to target HTML elements).">


  <meta name="author" content="UnixBSDShell's Blog">
  
  <meta property="article:author" content="UnixBSDShell's Blog">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="UnixBSDShell">
<meta property="og:title" content="Creating a Web Crawling Googlebot with Colly on FreBSD 14">
<meta property="og:url" content="https://unixwinbsd.site/freebsd/web-crawling-google-bot-colly-freebsd/">


  <meta property="og:description" content="The Colly library is a Go package that can be used to create web scrapers and web crawlers. It is based on Go’s net/HTTP (for network communication) and goquery (which allows you to use a “jQuery-like” syntax to target HTML elements).">





  <meta name="twitter:site" content="@iwanset96143401">
  <meta name="twitter:title" content="Creating a Web Crawling Googlebot with Colly on FreBSD 14">
  <meta name="twitter:description" content="The Colly library is a Go package that can be used to create web scrapers and web crawlers. It is based on Go’s net/HTTP (for network communication) and goquery (which allows you to use a “jQuery-like” syntax to target HTML elements).">
  <meta name="twitter:url" content="https://unixwinbsd.site/freebsd/web-crawling-google-bot-colly-freebsd/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2025-04-15T10:01:15+03:00">





  

  


<link rel="canonical" href="https://unixwinbsd.site/freebsd/web-crawling-google-bot-colly-freebsd/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "UnixBSDShell Blog",
      "url": "https://unixwinbsd.site/"
    
  }
</script>


  <meta name="google-site-verification" content="googledc9be5e5382da4fd" />


  <meta name="msvalidate.01" content="BCDF1444D895EBA62C6422C90DF8EA1C">



  <meta name="yandex-verification" content="69d778baa1dbd371">


<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="UnixBSDShell Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- <script data-ad-client="ca-pub-8799681346916578" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> -->

<!-- end custom head snippets -->


<meta name="google-site-verification" content="RT2u0cL3NCPK3ydcuewM50F8hvklo6JxBJGxu0zypiw" />
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js', 'ym');

    ym(95812963, 'init', {webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/95812963" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=GT-TNPXBWRM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'GT-TNPXBWRM');
</script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RWLWYNFRW0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RWLWYNFRW0');
</script>

<script>
gtag('set', 'user_data', {
"email": datainchi@gmail.com,
"phone_number": +6281289065249,
"address": {
"first_name": Iwan,
"last_name": Setiawan,
"street": Kp. Warung Bongkok RT. 002/01,
"city": Kabupaten Bekasi,
"region": Jawa Barat,
"postal_code": 17841,
"country": Indonesia
}
});
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N7TLZSRG');</script>
<!-- End Google Tag Manager -->



  </head>

  <body class="layout--single">

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N7TLZSRG"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          UnixBSDShell
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/">Posts by Category</a>
            </li><li class="masthead__menu-item">
              <a href="/year-archive/">Posts by Year</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="https://unixwinbsd.site/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#freebsd" itemprop="item"><span itemprop="name">Freebsd</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Creating a Web Crawling Googlebot with Colly on FreBSD 14</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/pscustomobject.jpg" alt="UnixBSDShell's Blog" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">UnixBSDShell's Blog</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>unixwinbsd.site is an online learning platform that provides online tutorials and videos about unix, FreeBSD, OpenBSD and Linux. Not only that, unixwinbsd.site also presents a variety of topics, including software development, programming, web design, and more. This blog provides various online tutorials and videos for beginners and experienced professionals. This blog also provides a Q&amp;A forum for users to ask questions and get help from other members.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Moscow, Russia</span>
        </li>
      

      
        
          
            <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
          
        
          
            <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">DevOps Notes</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/iwan-setiawan-943659164/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
            <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
      

      

      
        <li>
          <a href="mailto:iwanse1212@yandex.com">
            <meta itemprop="email" content="iwanse1212@yandex.com" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span>
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Creating a Web Crawling Googlebot with Colly on FreBSD 14">
    <meta itemprop="description" content="The Colly library is a Go package that can be used to create web scrapers and web crawlers. It is based on Go’s net/HTTP (for network communication) and goquery (which allows you to use a “jQuery-like” syntax to target HTML elements).">
    <meta itemprop="datePublished" content="2025-04-15T10:01:15+03:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Creating a Web Crawling Googlebot with Colly on FreBSD 14
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu">
  <li><a href="#1-how-to-install-colly">1. How to Install Colly</a></li>
  <li><a href="#2-colly-web-crawler">2. Colly Web Crawler</a></li>
</ul>

            </nav>
          </aside>
        
        <p>Web crawling is a technique that allows you to examine, parse, and extract data that may be difficult to access from a blog or website. Web crawling is done systematically, starting with a “seed” URL, and recursively visiting the links the crawler finds on each page visited.</p>

<p>The Colly library is a Go package that can be used to create web scrapers and web crawlers. It is based on Go’s net/HTTP (for network communication) and goquery (which allows you to use a “jQuery-like” syntax to target HTML elements).</p>

<p>With Colly, you can easily extract structured data from a blogsite or Web Application. You can use this data for various applications, such as data mining, data processing, or data archiving.</p>

<p><strong>Colly Key Features:</strong></p>
<ul>
  <li>Clean API.</li>
  <li>Google App Engine support.</li>
  <li>Fast (capable of performing &gt;1k requests/second on a single core).</li>
  <li>Manages request delays and maximum concurrency per domain.</li>
  <li>Sync/async/parallel scraping.</li>
  <li>Distributed scraping.
*Can cache data.</li>
  <li>Automatic encoding of non-unicode responses.</li>
  <li>Robots.txt support.</li>
  <li>Automatic cookie and session handling.</li>
  <li>Configuration via environment variables.</li>
  <li>Extensions.</li>
</ul>

<p>In this article, we will use the Go programming language, a popular scripting language from Google, and one of the packages we will use is Colly.</p>

<p>Building a crawler in Go and Colly is easy. In this article, I will show you how to create a basic script that can check the health of links, labels, and images across a website. I will also share some things that will help you build a professional crawler.</p>

<h2 id="1-how-to-install-colly">1. How to Install Colly</h2>
<p>Because the Colly library runs in GO language, then as a first step we install the GO application first. To speed up the installation process, you can use the FreeBSD PKG package.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns7:~ #</span><span class="w"> </span>pkg <span class="nb">install </span>go
</code></pre></div></div>
<p>Now it’s time to install Colly, to get the complete Colly library we simply use the FreeBSD Port system.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns7:~ #</span><span class="w"> </span><span class="nb">cd</span> /usr/ports/www/colly
<span class="gp">root@ns7:/usr/ports/www/colly #</span><span class="w"> </span>make <span class="nb">install </span>clean
</code></pre></div></div>
<p>We will create a new directory to store all the projects we will be working on with Colly.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns7:/usr/ports/www/colly #</span><span class="w"> </span><span class="nb">mkdir</span> <span class="nt">-p</span> /usr/local/etc/colly
<span class="gp">root@ns7:/usr/ports/www/colly #</span><span class="w"> </span><span class="nb">cd</span> /usr/local/etc/colly
</code></pre></div></div>
<p>To create a new scraper, we can use the command below.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns7:/usr/local/etc/colly #</span><span class="w"> </span>colly new crawlingblogsite.go
<span class="gp">root@ns7:/usr/local/etc/colly #</span><span class="w"> </span><span class="nb">ls</span>
<span class="go">crawlingblogsite.go
</span></code></pre></div></div>
<p>You have successfully created a scraper file named <code class="language-plaintext highlighter-rouge">"/usr/local/etc/colly/crawlingblogsite.go"</code>. You can see the contents of the <code class="language-plaintext highlighter-rouge">"/usr/local/etc/colly/crawlingblogsite.go"</code> file below.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
        <span class="s">"log"</span>

        <span class="s">"github.com/gocolly/colly/v2"</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">c</span> <span class="o">:=</span> <span class="n">colly</span><span class="o">.</span><span class="n">NewCollector</span><span class="p">()</span>

        <span class="n">c</span><span class="o">.</span><span class="n">Visit</span><span class="p">(</span><span class="s">"https://yourdomain.com/"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>
<p>Change the domain name to your own domain, for example “https://unixwinbsd.site”.</p>

<h2 id="2-colly-web-crawler">2. Colly Web Crawler</h2>
<p>Colly’s main entity is the Collector structure. The Collector keeps track of every page that is queued to be visited, manages network communication, and is responsible for running attached callbacks while pages are being scraped.</p>

<p>Colly provides us with a number of callbacks that can be set or not. These callbacks will be called at various stages in the crawling process, and we must decide which ones to choose based on our needs. Here is a list of all the callbacks and the order in which they are called.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">OnResponse(f ResponseCallback)</code> Called after response received.</li>
  <li><code class="language-plaintext highlighter-rouge">OnRequest(f RequestCallback)</code> Called before a request.</li>
  <li><code class="language-plaintext highlighter-rouge">OnXML(xpathQuery string, f XMLCallback)</code> Called right after OnHTML if the received content is HTML or XML.</li>
  <li><code class="language-plaintext highlighter-rouge">OnError(f ErrorCallback)</code> Called if error occured during the request.</li>
  <li><code class="language-plaintext highlighter-rouge">OnHTML(goquerySelector string, f HTMLCallback)</code> Called right after OnResponse if the received content is HTML.</li>
  <li><code class="language-plaintext highlighter-rouge">OnScraped(f ScrapedCallback)</code> Called after OnXML callbacks.</li>
</ul>

<p>Okay, let’s start making a web crawler with Colly. The first step is to edit the file <code class="language-plaintext highlighter-rouge">"/usr/local/etc/colly/crawlingblogsite.go"</code>, then we delete all its contents, then add the script below to the file.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
	<span class="s">"flag"</span>
	<span class="s">"fmt"</span>
	<span class="s">"net/url"</span>
	<span class="s">"os"</span>
	<span class="s">"regexp"</span>
	<span class="s">"time"</span>

	<span class="s">"github.com/gocolly/colly"</span>
	<span class="n">_</span> <span class="s">"go.uber.org/automaxprocs"</span>
<span class="p">)</span>

<span class="k">var</span> <span class="p">(</span>
	<span class="n">domain</span><span class="p">,</span> <span class="n">header</span>            <span class="kt">string</span>
	<span class="n">parallelism</span><span class="p">,</span> <span class="n">delay</span><span class="p">,</span> <span class="n">sleep</span> <span class="kt">int</span>
	<span class="n">daemon</span>                    <span class="kt">bool</span>
<span class="p">)</span>

<span class="k">func</span> <span class="n">init</span><span class="p">()</span> <span class="p">{</span>
	<span class="n">flag</span><span class="o">.</span><span class="n">StringVar</span><span class="p">(</span><span class="o">&amp;</span><span class="n">domain</span><span class="p">,</span> <span class="s">"domain"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"Set url for crawling. Example: https://example.com"</span><span class="p">)</span>
	<span class="n">flag</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(</span><span class="o">&amp;</span><span class="n">parallelism</span><span class="p">,</span> <span class="s">"parallelism"</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="s">"Parallelism is the number of the maximum allowed concurrent requests of the matching domains"</span><span class="p">)</span>
	<span class="n">flag</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(</span><span class="o">&amp;</span><span class="n">delay</span><span class="p">,</span> <span class="s">"delay"</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="s">"Delay is the duration to wait before creating a new request to the matching domains"</span><span class="p">)</span>
	<span class="n">flag</span><span class="o">.</span><span class="n">BoolVar</span><span class="p">(</span><span class="o">&amp;</span><span class="n">daemon</span><span class="p">,</span> <span class="s">"daemon"</span><span class="p">,</span> <span class="no">false</span><span class="p">,</span> <span class="s">"Run crawler on daemon mode"</span><span class="p">)</span>
	<span class="n">flag</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(</span><span class="o">&amp;</span><span class="n">sleep</span><span class="p">,</span> <span class="s">"sleep"</span><span class="p">,</span> <span class="m">60</span><span class="p">,</span> <span class="s">"Time in seconds to wait before run crawler again"</span><span class="p">)</span>
	<span class="n">flag</span><span class="o">.</span><span class="n">StringVar</span><span class="p">(</span><span class="o">&amp;</span><span class="n">header</span><span class="p">,</span> <span class="s">"header"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="s">"Set header for crawler request. Example: header_name:header_value"</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">crawler</span><span class="p">()</span> <span class="p">{</span>
	<span class="n">u</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">url</span><span class="o">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">domain</span><span class="p">)</span>

	<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
		<span class="n">fmt</span><span class="o">.</span><span class="n">Fprintf</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">Stderr</span><span class="p">,</span> <span class="s">"%v</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
		<span class="n">os</span><span class="o">.</span><span class="n">Exit</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
	<span class="p">}</span>

	<span class="c">// Instantiate default collector</span>
	<span class="n">c</span> <span class="o">:=</span> <span class="n">colly</span><span class="o">.</span><span class="n">NewCollector</span><span class="p">(</span>
		<span class="c">// Turn on asynchronous requests</span>
		<span class="n">colly</span><span class="o">.</span><span class="n">Async</span><span class="p">(</span><span class="no">true</span><span class="p">),</span>
		<span class="c">// Visit only domain</span>
		<span class="n">colly</span><span class="o">.</span><span class="n">AllowedDomains</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">Host</span><span class="p">),</span>
	<span class="p">)</span>

	<span class="c">// Limit the number of threads</span>
	<span class="n">c</span><span class="o">.</span><span class="n">Limit</span><span class="p">(</span><span class="o">&amp;</span><span class="n">colly</span><span class="o">.</span><span class="n">LimitRule</span><span class="p">{</span>
		<span class="n">DomainGlob</span><span class="o">:</span>  <span class="n">u</span><span class="o">.</span><span class="n">Host</span><span class="p">,</span>
		<span class="n">Parallelism</span><span class="o">:</span> <span class="n">parallelism</span><span class="p">,</span>
		<span class="n">Delay</span><span class="o">:</span>       <span class="n">time</span><span class="o">.</span><span class="n">Duration</span><span class="p">(</span><span class="n">delay</span><span class="p">)</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">,</span>
	<span class="p">})</span>

	<span class="c">// On every a element which has href attribute call callback</span>
	<span class="n">c</span><span class="o">.</span><span class="n">OnHTML</span><span class="p">(</span><span class="s">"a[href]"</span><span class="p">,</span> <span class="k">func</span><span class="p">(</span><span class="n">e</span> <span class="o">*</span><span class="n">colly</span><span class="o">.</span><span class="n">HTMLElement</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">link</span> <span class="o">:=</span> <span class="n">e</span><span class="o">.</span><span class="n">Attr</span><span class="p">(</span><span class="s">"href"</span><span class="p">)</span>
		<span class="c">// Visit link found on page</span>
		<span class="c">// Only those links are visited which are in AllowedDomains</span>
		<span class="n">c</span><span class="o">.</span><span class="n">Visit</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">Request</span><span class="o">.</span><span class="n">AbsoluteURL</span><span class="p">(</span><span class="n">link</span><span class="p">))</span>
	<span class="p">})</span>

	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">header</span><span class="p">)</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="p">{</span>
		<span class="n">c</span><span class="o">.</span><span class="n">OnRequest</span><span class="p">(</span><span class="k">func</span><span class="p">(</span><span class="n">r</span> <span class="o">*</span><span class="n">colly</span><span class="o">.</span><span class="n">Request</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">reg</span> <span class="o">:=</span> <span class="n">regexp</span><span class="o">.</span><span class="n">MustCompile</span><span class="p">(</span><span class="s">`(.*):(.*)`</span><span class="p">)</span>
			<span class="n">headerName</span> <span class="o">:=</span> <span class="n">reg</span><span class="o">.</span><span class="n">ReplaceAllString</span><span class="p">(</span><span class="n">header</span><span class="p">,</span> <span class="s">"${1}"</span><span class="p">)</span>
			<span class="n">headerValue</span> <span class="o">:=</span> <span class="n">reg</span><span class="o">.</span><span class="n">ReplaceAllString</span><span class="p">(</span><span class="n">header</span><span class="p">,</span> <span class="s">"${2}"</span><span class="p">)</span>
			<span class="n">r</span><span class="o">.</span><span class="n">Headers</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="n">headerName</span><span class="p">,</span> <span class="n">headerValue</span><span class="p">)</span>
		<span class="p">})</span>
	<span class="p">}</span>

	<span class="n">c</span><span class="o">.</span><span class="n">OnResponse</span><span class="p">(</span><span class="k">func</span><span class="p">(</span><span class="n">r</span> <span class="o">*</span><span class="n">colly</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">Request</span><span class="o">.</span><span class="n">URL</span><span class="p">,</span> <span class="s">"</span><span class="se">\t</span><span class="s">"</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">StatusCode</span><span class="p">)</span>
	<span class="p">})</span>

	<span class="n">c</span><span class="o">.</span><span class="n">OnError</span><span class="p">(</span><span class="k">func</span><span class="p">(</span><span class="n">r</span> <span class="o">*</span><span class="n">colly</span><span class="o">.</span><span class="n">Response</span><span class="p">,</span> <span class="n">err</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">Request</span><span class="o">.</span><span class="n">URL</span><span class="p">,</span> <span class="s">"</span><span class="se">\t</span><span class="s">"</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">StatusCode</span><span class="p">,</span> <span class="s">"</span><span class="se">\n</span><span class="s">Error:"</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
	<span class="p">})</span>

	<span class="n">fmt</span><span class="o">.</span><span class="n">Print</span><span class="p">(</span><span class="s">"Started crawler</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
	<span class="c">// Start scraping</span>
	<span class="n">c</span><span class="o">.</span><span class="n">Visit</span><span class="p">(</span><span class="n">domain</span><span class="p">)</span>
	<span class="c">// Wait until threads are finished</span>
	<span class="n">c</span><span class="o">.</span><span class="n">Wait</span><span class="p">()</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="n">flag</span><span class="o">.</span><span class="n">Parse</span><span class="p">()</span>

	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">domain</span><span class="p">)</span> <span class="o">==</span> <span class="m">0</span> <span class="p">{</span>
		<span class="n">fmt</span><span class="o">.</span><span class="n">Fprintf</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">Stderr</span><span class="p">,</span> <span class="s">"Flag -domain required</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
		<span class="n">os</span><span class="o">.</span><span class="n">Exit</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="n">daemon</span> <span class="p">{</span>
		<span class="k">for</span> <span class="p">{</span>
			<span class="n">crawler</span><span class="p">()</span>
			<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"Sleep %v seconds before run crawler again</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">sleep</span><span class="p">)</span>
			<span class="n">time</span><span class="o">.</span><span class="n">Sleep</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">Duration</span><span class="p">(</span><span class="n">sleep</span><span class="p">)</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">crawler</span><span class="p">()</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<p>Then you continue with the following command.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns7:/usr/local/etc/colly #</span><span class="w">  </span>go mod colly
<span class="gp">root@ns7:/usr/local/etc/colly #</span><span class="w"> </span>go get go.uber.org/automaxprocs
<span class="gp">root@ns7:/usr/local/etc/colly #</span><span class="w"> </span>go get github.com/gocolly/colly
</code></pre></div></div>

<p>To run a web crawler, we need to add some <strong>“flags”</strong>.</p>
<ul>
  <li><strong>daemon:</strong> Run the crawler in daemon mode.</li>
  <li><strong>delay int:</strong> Duration to wait before making a new request to a matching domain (default 1).</li>
  <li><strong>domain string:</strong> Set url for crawling. Example: https://unixwinbsd.site.</li>
  <li><strong>header string:</strong> Set headers for crawler requests. Example: header_name:header_value.</li>
  <li>**parallelism int: Parallelism is the maximum number of concurrent requests allowed from a matching domain (default 2).</li>
  <li><strong>sleep int:</strong> Time in seconds to wait before running the crawler again (default 60).</li>
</ul>

<p>Usage examples:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns7:/usr/local/etc/colly #</span><span class="w"> </span>go run crawlingblogsite.go <span class="nt">-domain</span> https://www.unixwinbsd.site <span class="nt">-header</span> header_name:header_value <span class="nt">-daemon</span>
</code></pre></div></div>

<p><br /></p>

<p><img src="https://raw.githubusercontent.com/unixwinbsd/unixshellbsd.github.io/refs/heads/master/Image/Crawling-with-Colly.jpg" alt="Colly web crawler Java OpenJDK For Google Crawler" /></p>

<p><br /></p>

<p>Or, as a practical way, you can download the Colly Web Crawler repository from Github.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@ns7:~/.cache/pypoetry/index #</span><span class="w"> </span>git clone https://github.com/unixwinbsd/CollyWebCrawling.git
</code></pre></div></div>
<p>Now you have your own web crawler, and ready to use anytime. Do it every day by crawling your Blogsite or website, so that Googlebot can quickly index the URLs on our blogsite.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#sysadmin" class="page__taxonomy-item" rel="tag">SysAdmin</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#freebsd" class="page__taxonomy-item" rel="tag">FreeBSD</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2025-04-15T10:01:15+03:00">April 15, 2025</time></p>


      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?via=iwanset96143401&text=Creating+a+Web+Crawling+Googlebot+with+Colly+on+FreBSD+14%20https%3A%2F%2Funixwinbsd.site%2Ffreebsd%2Fweb-crawling-google-bot-colly-freebsd%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Funixwinbsd.site%2Ffreebsd%2Fweb-crawling-google-bot-colly-freebsd%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Funixwinbsd.site%2Ffreebsd%2Fweb-crawling-google-bot-colly-freebsd%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/freebsd/installing-configuring-java-openjdk17-freebsd/" class="pagination--pager" title="Installing and Configuring Java openjdk17 in FreeBSD
">Previous</a>
    
    
      <a href="/freebsd/configuration-openssh-install-freebsd/" class="pagination--pager" title="How to Configure OpenSSH Server on FreeBSD
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/installation-java-development-kit-on-freebsd/" rel="permalink">Installing and Using the Java Development Kit on FreeBSD
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          8 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Redmine is open source software or application that uses the Ruby On Rails Framework. Redmine is a project management or project tracking application which r...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/how-to-install-webmin-on-freebsd-machine/" rel="permalink">How to Install Webmin on a FreeBSD System
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Webmin is a web-based system administration tool for Unix-like servers, and a service with approximately 1,000,000 annual installations worldwide
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/configuration-radicale-caldav-cardavv-server-freebsd/" rel="permalink">How to Configure FreeBSD with Radicale CalDAV CardDAV Server
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Radicale is run with the help of the Apache or NGINX web server, so it can be operated either as a standalone package using its internal http/https server or...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/setup-mirror-site-convert-pkg-package-freebsd/" rel="permalink">Setting up a Mirror Site to convert PKG Packages on FreeBSD
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">PKG packages on FreeBSD contain pre-compiled software packages – called packages. This is the easiest way to install additional software under TwinCAT/BSD or...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/catanesi/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn Profile</a></li>
        
      
        
          <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> Website</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 UnixBSDShell Blog. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "https://unixwinbsd.site/freebsd/web-crawling-google-bot-colly-freebsd/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/freebsd/web-crawling-google-bot-colly-freebsd"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://UnixBSDShell.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  







  </body>
</html>
