<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.20.2 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Complete Guide to BIND DNS Server Settings for PFSense - UnixBSDShell</title>
<meta name="description" content="The existence of the ISC-Bind plugin can be felt by PFSense users who have slow internet networks.">


  <meta name="author" content="UnixBSDShell's Blog">
  
  <meta property="article:author" content="UnixBSDShell's Blog">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="UnixBSDShell">
<meta property="og:title" content="Complete Guide to BIND DNS Server Settings for PFSense">
<meta property="og:url" content="https://unixwinbsd.site/freebsd/complete-guide-bind-dns-server-for-pfsense/">


  <meta property="og:description" content="The existence of the ISC-Bind plugin can be felt by PFSense users who have slow internet networks.">





  <meta name="twitter:site" content="@iwanset96143401">
  <meta name="twitter:title" content="Complete Guide to BIND DNS Server Settings for PFSense">
  <meta name="twitter:description" content="The existence of the ISC-Bind plugin can be felt by PFSense users who have slow internet networks.">
  <meta name="twitter:url" content="https://unixwinbsd.site/freebsd/complete-guide-bind-dns-server-for-pfsense/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2025-02-06T09:17:10+03:00">





  

  


<link rel="canonical" href="https://unixwinbsd.site/freebsd/complete-guide-bind-dns-server-for-pfsense/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "UnixBSDShell Blog",
      "url": "https://unixwinbsd.site/"
    
  }
</script>


  <meta name="google-site-verification" content="googledc9be5e5382da4fd" />


  <meta name="msvalidate.01" content="BCDF1444D895EBA62C6422C90DF8EA1C">



  <meta name="yandex-verification" content="69d778baa1dbd371">


<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="UnixBSDShell Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- <script data-ad-client="ca-pub-8799681346916578" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> -->

<!-- end custom head snippets -->


<meta name="google-site-verification" content="RT2u0cL3NCPK3ydcuewM50F8hvklo6JxBJGxu0zypiw" />
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js', 'ym');

    ym(95812963, 'init', {webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/95812963" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=GT-TNPXBWRM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'GT-TNPXBWRM');
</script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RWLWYNFRW0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RWLWYNFRW0');
</script>

<script>
gtag('set', 'user_data', {
"email": datainchi@gmail.com,
"phone_number": +6281289065249,
"address": {
"first_name": Iwan,
"last_name": Setiawan,
"street": Kp. Warung Bongkok RT. 002/01,
"city": Kabupaten Bekasi,
"region": Jawa Barat,
"postal_code": 17841,
"country": Indonesia
}
});
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N7TLZSRG');</script>
<!-- End Google Tag Manager -->



  </head>

  <body class="layout--single">

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N7TLZSRG"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          UnixBSDShell
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/">Posts by Category</a>
            </li><li class="masthead__menu-item">
              <a href="/year-archive/">Posts by Year</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="https://unixwinbsd.site/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#freebsd" itemprop="item"><span itemprop="name">Freebsd</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Complete Guide to BIND DNS Server Settings for PFSense</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/pscustomobject.jpg" alt="UnixBSDShell's Blog" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">UnixBSDShell's Blog</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>unixwinbsd.site is an online learning platform that provides online tutorials and videos about unix, FreeBSD, OpenBSD and Linux. Not only that, unixwinbsd.site also presents a variety of topics, including software development, programming, web design, and more. This blog provides various online tutorials and videos for beginners and experienced professionals. This blog also provides a Q&amp;A forum for users to ask questions and get help from other members.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Moscow, Russia</span>
        </li>
      

      
        
          
            <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
          
        
          
            <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">DevOps Notes</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/iwan-setiawan-943659164/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
            <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
      

      

      
        <li>
          <a href="mailto:iwanse1212@yandex.com">
            <meta itemprop="email" content="iwanse1212@yandex.com" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span>
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Complete Guide to BIND DNS Server Settings for PFSense">
    <meta itemprop="description" content="The existence of the ISC-Bind plugin can be felt by PFSense users who have slow internet networks.">
    <meta itemprop="datePublished" content="2025-02-06T09:17:10+03:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Complete Guide to BIND DNS Server Settings for PFSense
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          6 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu">
  <li><a href="#1-basic-configuration">1. Basic Configuration</a></li>
  <li><a href="#2-install-dns-server-isc-bind">2. Install DNS server ISC-Bind</a></li>
  <li><a href="#3-setup-zones">3. Setup Zones</a>
    <ul>
      <li><a href="#a-zone-kursormyid">a. Zone kursor.my.id</a></li>
      <li><a href="#b-zone-localhost">b. Zone localhost</a></li>
      <li><a href="#c-zone-7168192in-addrarpa">c. Zone 7.168.192.in-addr.arpa</a></li>
      <li><a href="#d-zone-127in-addrarpa">d. Zone 127.in-addr.arpa</a></li>
    </ul>
  </li>
  <li><a href="#4-test-zones">4. Test Zones</a></li>
  <li><a href="#5-test-bind-dns-server">5. Test Bind DNS Server</a></li>
  <li><a href="#6-create-dynamic-dns-for-dhcp-server">6. Create Dynamic DNS For DHCP Server</a></li>
  <li><a href="#7-script-generated-by-bind-dns-server-pfsense">7. Script Generated by BIND DNS Server PFSense</a></li>
</ul>

            </nav>
          </aside>
        
        <p>The PFSense firewall has many functions, its job is not only as a router that provides internet services to clients. With the various features it has, PFSense’s functions can be improved. Because many of the default FreeBSD plugins have been modified by PFSense, such as the ISC-Bind DNS server.</p>

<p>The existence of the ISC-Bind plugin can be felt by PFSense users who have slow internet networks. With the help of a DNS server that is capable of caching and serving name servers, your internet speed will increase. Because every client who accesses the internet from your PFSense no longer looks for a DNS server, only the PFSense database serves the DNS request.</p>

<p>At PFSense there are lots of DNS application services that you can use, such as Unbound and DNS Forwarding. However, in this article we dedicate it to explaining in detail the installation and configuration process for the ISC-Bind DNS server. Not only that, this article also discusses name server services that can be utilized by DHCP servers.<br /><br /></p>

<h2 id="1-basic-configuration">1. Basic Configuration</h2>
<p>Before we go any further, on how to install and configure ISC-Bind. The first step you have to do is set the hostname and PFsense resolver.</p>

<p><img src="https://www.opencode.net/unixbsdshell/statif-page/-/raw/main/pfsense_system_information.jpg" alt="pfsense system information" /></p>

<p>After that, you continue to click the System -» General Setup menu. Please set it according to your PFSense computer specifications. For more details, look at the image below.</p>

<p><img src="https://www.opencode.net/unixbsdshell/statif-page/-/raw/main/general_setup_pfsense.jpg" alt="general setup pfsense" /></p>

<p>What you need to pay attention to here is <code class="language-plaintext highlighter-rouge">"DNS Resolution Behavior"</code>, don’t make the wrong choice. For other settings, just leave the default.<br /><br /></p>

<h2 id="2-install-dns-server-isc-bind">2. Install DNS server ISC-Bind</h2>
<p>If you use ISC-Bind as a server serving DNS requests, PFSense provides convenience. Why?, because PFSense has provided the official ISC-Bind repository. The repository is taken from the FreeBSD repository, but has been modified to be used in PFSense. OK, now let’s just install ISC-Bind, click  <strong>System -» Package Manager »&gt; Available Packages</strong>. Then look for the bind application, continue by pressing the green Install button.</p>

<p>After the installation process is complete, it’s time to start configuring. We start by clicking the  <strong>Services -» Bind DNS Server.</strong> For the settings, you can see the following image.</p>

<p><img src="https://www.opencode.net/unixbsdshell/statif-page/-/raw/main/bind_setting_pfsense_1.jpg" alt="bind-setting-on-pfsense" /></p>

<p><img src="https://www.opencode.net/unixbsdshell/statif-page/-/raw/main/bind_setting_pfsense_2.jpg" alt="bind-setting-on-pfsense" /></p>

<p><img src="https://www.opencode.net/unixbsdshell/statif-page/-/raw/main/bind_setting_pfsense_3.jpg" alt="bind-setting-on-pfsense" /></p>

<p>In the image above, what you need to underline is the settings in the “Forwarder IPs” and “Custom Options” options. To set “Custom Options”, you type the script below.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>allow-query { localnets; };
allow-query-cache { localnets; };
allow-transfer { none; };
empty-zones-enable yes;
auth-nxdomain no;
</code></pre></div></div>

<p>After that we move on to setting <code class="language-plaintext highlighter-rouge">"ACLs"</code>. Remove all Bind PFSense default “ACLs”. Then you create new “ACLs”. Follow the instructions we explained in the image to create new “ACLs”. In this example, we will create two ACLs:</p>

<ul>
  <li>localnets</li>
  <li>localhosts</li>
</ul>

<p><img src="https://www.opencode.net/unixbsdshell/statif-page/-/raw/main/bind_acls_pfsense.jpg" alt="bind acls pfsense" /></p>

<p><img src="https://www.opencode.net/unixbsdshell/statif-page/-/raw/main/edit_bind_acls_pfsense.jpg" alt="edit bind acls pfsense" /></p>

<p>The next step is to make settings in “Views”. See the image below for a guide to setting up “Views”.</p>

<p><img src="https://www.opencode.net/unixbsdshell/statif-page/-/raw/main/bind_general_option.jpg" alt="bind general option" /></p>

<h2 id="3-setup-zones">3. Setup Zones</h2>

<p>The final step is to set the <code class="language-plaintext highlighter-rouge">"Zones"</code>. We will create 4 Zones, namely kursor.my.id, localhost, 7.168.192.in-addr.arpa and 127.in-addr.arpa.</p>

<h3 id="a-zone-kursormyid">a. Zone kursor.my.id</h3>

<ul>
  <li>Zone Name: kursor.my.id</li>
  <li>Zone Type: Master</li>
  <li>View: dnspfsense</li>
  <li>Name Server: ns5.kursor.my.id</li>
</ul>

<p><img src="https://www.opencode.net/unixbsdshell/statif-page/-/raw/main/pfsense_zona_domain.jpg" alt="pfsense zona domain" /></p>

<h3 id="b-zone-localhost">b. Zone localhost</h3>
<ul>
  <li>Zone Name: localhost</li>
  <li>Zone Type: Master</li>
  <li>View: dnspfsense</li>
  <li>Name Server: ns5.localhost</li>
  <li>allow-transfer: localhosts</li>
</ul>

<p><img src="https://www.opencode.net/unixbsdshell/statif-page/-/raw/main/zona_domain_record_pfsense.jpg" alt="zona domain record pfsense" /></p>

<h3 id="c-zone-7168192in-addrarpa">c. Zone 7.168.192.in-addr.arpa</h3>
<ul>
  <li>Zone Name: 7.168.192.in-addr.arpa</li>
  <li>Zone Type: Master</li>
  <li>View: dnspfsense</li>
  <li>Name Server: ns5.kursor.my.id</li>
</ul>

<p><img src="https://www.opencode.net/unixbsdshell/statif-page/-/raw/main/pfsense_domain_zone.jpg" alt="pfsense domain zone" /></p>

<h3 id="d-zone-127in-addrarpa">d. Zone 127.in-addr.arpa</h3>
<ul>
  <li>Zone Name: 127.in-addr.arpa</li>
  <li>Zone Type: Master</li>
  <li>View: dnspfsense</li>
  <li>Name Server: ns5.localhost</li>
  <li>allow-transfer: localhosts</li>
</ul>

<p><img src="https://www.opencode.net/unixbsdshell/statif-page/-/raw/main/record_zna_domain.jpg" alt="record zna domain" /></p>

<h2 id="4-test-zones">4. Test Zones</h2>
<p>This section is also very important, because we will check each zone to see whether the zone can contain a serial number. Before we check the zone, create a symlink first with the command below.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[2.7.2-RELEASE][root@ns5.kursor.my.id]/root: ln -s /var/etc/named/etc/namedb /etc
</code></pre></div></div>

<p>We will check the main configuration file first, namely named.conf. Run the following command to check the named.conf file.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[2.7.2-RELEASE][root@ns5.kursor.my.id]/root: named-checkconf /etc/namedb/named.conf
</code></pre></div></div>

<p>After that, check each zone. Run the command below to check the zone.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[2.7.2-RELEASE][root@ns5.kursor.my.id]/root: named-checkzone kursor.my.id /etc/namedb/master/dnspfsense/kursor.my.id.DB
zone kursor.my.id/IN: loaded serial 2714365806
OK
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[2.7.2-RELEASE][root@ns5.kursor.my.id]/root: named-checkzone 7.168.192.in-addr.arpa /etc/namedb/master/dnspfsense/7.168.192.in-addr.arpa.DB
zone 7.168.192.in-addr.arpa/IN: loaded serial 2714374177
OK
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[2.7.2-RELEASE][root@ns5.kursor.my.id]/root: named-checkzone localhost /etc/namedb/master/dnspfsense/localhost.DB
zone localhost/IN: loaded serial 2714373907
OK
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[2.7.2-RELEASE][root@ns5.kursor.my.id]/root: named-checkzone 127.in-addr.arpa /etc/namedb/master/dnspfsense/127.in-addr.arpa.DB
zone 127.in-addr.arpa/IN: loaded serial 2714374263
OK
</code></pre></div></div>

<h2 id="5-test-bind-dns-server">5. Test Bind DNS Server</h2>
<p>After we have checked all the zones and there are no problems, it’s time to check the BIND DNS server. We will use the dig and nslookup commands to check BIND. Run the following command to check the BIND DNS Server.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[2.7.2-RELEASE][root@ns5.kursor.my.id]/root: dig yahoo.com

; &lt;&lt;&gt;&gt; DiG 9.18.19 &lt;&lt;&gt;&gt; yahoo.com
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 25968
;; flags: qr rd ra; QUERY: 1, ANSWER: 6, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 1232
; COOKIE: 6c557890f8ed5b2401000000662f72862924cfbb3f954331 (good)
;; QUESTION SECTION:
;yahoo.com.			IN	A

;; ANSWER SECTION:
yahoo.com.		1800	IN	A	74.6.143.26
yahoo.com.		1800	IN	A	98.137.11.164
yahoo.com.		1800	IN	A	74.6.231.21
yahoo.com.		1800	IN	A	98.137.11.163
yahoo.com.		1800	IN	A	74.6.143.25
yahoo.com.		1800	IN	A	74.6.231.20

;; Query time: 34 msec
;; SERVER: 192.168.7.1#53(192.168.7.1) (UDP)
;; WHEN: Mon Apr 29 10:12:22 UTC 2024
;; MSG SIZE  rcvd: 162
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[2.7.2-RELEASE][root@ns5.kursor.my.id]/root: nslookup google.com
Server: 192.168.7.1 Address: 192.168.7.1#53 Non-authoritative answer:
google.com	canonical name = forcesafesearch.google.com.
Name:	forcesafesearch.google.com
Address: 216.239.38.120
Name:	forcesafesearch.google.com
Address: 2001:4860:4802:32::78
</code></pre></div></div>

<h2 id="6-create-dynamic-dns-for-dhcp-server">6. Create Dynamic DNS For DHCP Server</h2>
<p>After making sure that your BIND DNS server is running normally on the PFSense machine, we continue by creating “Dynamic DNS”. To do this, click  Services -» DHCP Server. To make it easier to explain, please see the picture below.</p>

<p><img src="https://www.opencode.net/unixbsdshell/statif-page/-/raw/main/lan_general_dhcp_pfsense.jpg" alt="lan general dhcp pfsense" /></p>

<p><img src="https://www.opencode.net/unixbsdshell/statif-page/-/raw/main/server_option_pfsense.jpg" alt="server option pfsense" /></p>

<p><img src="https://www.opencode.net/unixbsdshell/statif-page/-/raw/main/dynamic_dns_pfsense.jpg" alt="dynamic dns pfsense" /></p>

<h2 id="7-script-generated-by-bind-dns-server-pfsense">7. Script Generated by BIND DNS Server PFSense</h2>
<p>So that this article is complete and serves as learning material for you, below we will attach an example of the BIND DNS server script.</p>

<p><strong>/var/etc/named/etc/namedb/named.conf</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#Bind pfsense configuration
#Do not edit this file!!!

 key "rndc-key" {
 	algorithm hmac-sha256;
 	secret "4vgWNftJMHE59MIczVG+I0OkMTAE0GHGi1TNQmgbv/4=";
 };

 controls {
 	inet 127.0.0.1 port 8953
 		allow { 127.0.0.1; } keys { "rndc-key"; };
 };



options {
	directory "/etc/namedb";
	pid-file "/var/run/named/pid";
	statistics-file "/var/log/named.stats";
	max-cache-size 256M;
	dnssec-validation yes;

	listen-on-v6 port 53 { none; };
	listen-on port 53 { 192.168.7.1;  };
	forwarders { 1.1.1.1; 8.8.8.8; };
	allow-query { localnets; };
	allow-query-cache { localnets; };
	allow-transfer { none; };
	empty-zones-enable yes;
	auth-nxdomain no;
};

logging { category default { null; }; };

acl "localhosts" {
	127.0.0.1;
};

view "dnspfsense" { 
	recursion yes;
	match-clients { localnets; localhosts; };
	allow-recursion { localnets; localhosts; };

	zone "kursor.my.id" {
		type master;
		file "/etc/namedb/master/dnspfsense/kursor.my.id.DB";
		allow-query { none; };
		allow-transfer { none; };
		allow-update { none; };
	};

	zone "localhost" {
		type master;
		file "/etc/namedb/master/dnspfsense/localhost.DB";
		allow-query { none; };
		allow-transfer { localhosts; };
		allow-update { none; };
	};

	zone "7.168.192.in-addr.arpa" {
		type master;
		file "/etc/namedb/master/dnspfsense/7.168.192.in-addr.arpa.DB";
		allow-query { none; };
		allow-transfer { none; };
		allow-update { none; };
	};

	zone "127.in-addr.arpa" {
		type master;
		file "/etc/namedb/master/dnspfsense/127.in-addr.arpa.DB";
		allow-query { none; };
		allow-transfer { localhosts; };
		allow-update { none; };
	};

};
</code></pre></div></div>

<p><strong>/var/etc/named/etc/namedb/master/dnspfsense/kursor.my.id.DB</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$TTL 43200
;
$ORIGIN kursor.my.id.

;	Database file kursor.my.id.DB for kursor.my.id zone.
;	Do not edit this file!!!
;	Zone version 2714365806
;
kursor.my.id.	 IN  SOA ns5.kursor.my.id. 	 zonemaster.kursor.my.id. (
		2714365806 ; serial
		1d ; refresh
		2h ; retry
		4w ; expire
		1h ; default_ttl
		)

;
; Zone Records
;
@ 	 IN NS 	ns5.kursor.my.id.
ns5 	 IN A  	192.168.7.1
</code></pre></div></div>

<p><strong>/var/etc/named/etc/namedb/master/dnspfsense/7.168.192.in-addr.arpa.DB</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$TTL 43200
;
$ORIGIN 7.168.192.in-addr.arpa.

;	Database file 7.168.192.in-addr.arpa.DB for 7.168.192.in-addr.arpa zone.
;	Do not edit this file!!!
;	Zone version 2714374177
;
7.168.192.in-addr.arpa.	 IN  SOA ns5.kursor.my.id. 	 zonemaster.7.168.192.in-addr.arpa. (
		2714374177 ; serial
		1d ; refresh
		2h ; retry
		4w ; expire
		1h ; default_ttl
		)

;
; Zone Records
;
@ 	 IN NS 	ns5.kursor.my.id.
100 	 IN PTR  	ns5.kursor.my.id.
</code></pre></div></div>

<p><strong>/var/etc/named/etc/namedb/master/dnspfsense/localhost.DB</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$TTL 43200
;
$ORIGIN localhost.

;	Database file localhost.DB for localhost zone.
;	Do not edit this file!!!
;	Zone version 2714373907
;
localhost.	 IN  SOA ns5.localhost. 	 zonemaster.localhost. (
		2714373907 ; serial
		1d ; refresh
		2h ; retry
		4w ; expire
		1h ; default_ttl
		)

;
; Zone Records
;
@ 	 IN NS 	ns5.localhost.
ns5 	 IN A  	127.0.0.1
</code></pre></div></div>

<p><strong>/var/etc/named/etc/namedb/master/dnspfsense/127.in-addr.arpa.DB</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$TTL 43200
;
$ORIGIN 127.in-addr.arpa.

;	Database file 127.in-addr.arpa.DB for 127.in-addr.arpa zone.
;	Do not edit this file!!!
;	Zone version 2714374263
;
127.in-addr.arpa.	 IN  SOA ns5.localhost. 	 zonemaster.127.in-addr.arpa. (
		2714374263 ; serial
		1d ; refresh
		2h ; retry
		4w ; expire
		1h ; default_ttl
		)

;
; Zone Records
;
@ 	 IN NS 	ns5.localhost.
1.0.0 	 IN PTR  	localhost.
</code></pre></div></div>

<p>You currently have a BIND DNS server on the PFSense machine. You can experience internet speed with BIND DNS server. Maybe, you feel satisfied now, because your internet is not slow.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#dnsserver" class="page__taxonomy-item" rel="tag">DNSServer</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#freebsd" class="page__taxonomy-item" rel="tag">FreeBSD</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2025-02-06T09:17:10+03:00">February 6, 2025</time></p>


      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?via=iwanset96143401&text=Complete+Guide+to+BIND+DNS+Server+Settings+for+PFSense%20https%3A%2F%2Funixwinbsd.site%2Ffreebsd%2Fcomplete-guide-bind-dns-server-for-pfsense%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Funixwinbsd.site%2Ffreebsd%2Fcomplete-guide-bind-dns-server-for-pfsense%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Funixwinbsd.site%2Ffreebsd%2Fcomplete-guide-bind-dns-server-for-pfsense%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/freebsd/github-gh-cli-command-on-freebsd14/" class="pagination--pager" title="Guide to Using Github GH CLI Commands on FreeBSD 14
">Previous</a>
    
    
      <a href="/freebsd/build-own-email-server-on-openbsd/" class="pagination--pager" title="Build Your Own Email Server on OpenBSD
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/use-pfsense-pfBlockerNG-dnsbl-block-ads-malware/" rel="permalink">Use PFSense with pfBlockerNG DNSBL to Block Ads, Malware, Ransomware, and Web Tracking
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">By adding the pfBlockerNG package to your PFSense Router, you’ve blocked ads and also been able to block web tracking, ransomware, and malware. When you acti...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/installation-java-development-kit-on-freebsd/" rel="permalink">Installing and Using the Java Development Kit on FreeBSD
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          8 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Redmine is open source software or application that uses the Ruby On Rails Framework. Redmine is a project management or project tracking application which r...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/how-to-install-webmin-on-freebsd-machine/" rel="permalink">How to Install Webmin on a FreeBSD System
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Webmin is a web-based system administration tool for Unix-like servers, and a service with approximately 1,000,000 annual installations worldwide
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/configuration-radicale-caldav-cardavv-server-freebsd/" rel="permalink">How to Configure FreeBSD with Radicale CalDAV CardDAV Server
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Radicale is run with the help of the Apache or NGINX web server, so it can be operated either as a standalone package using its internal http/https server or...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/catanesi/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn Profile</a></li>
        
      
        
          <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> Website</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 UnixBSDShell Blog. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "https://unixwinbsd.site/freebsd/complete-guide-bind-dns-server-for-pfsense/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/freebsd/complete-guide-bind-dns-server-for-pfsense"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://UnixBSDShell.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  







  </body>
</html>
