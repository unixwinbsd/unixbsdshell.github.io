<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.20.2 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>FreeBSD ISC Bind - Master and Slave DNS Configuration - UnixBSDShell</title>
<meta name="description" content="DNS or Domain Name System servers are one of the most important components in the modern IT and internet world. With DNS, you can use easy-to-remember domain names instead of IP addresses. Especially as IPv6 becomes more popular, DNS remains a very important part of your network.">


  <meta name="author" content="UnixBSDShell's Blog">
  
  <meta property="article:author" content="UnixBSDShell's Blog">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="UnixBSDShell">
<meta property="og:title" content="FreeBSD ISC Bind - Master and Slave DNS Configuration">
<meta property="og:url" content="https://unixwinbsd.site/freebsd/isc-bind-dns-master-slave-configuration-freebsd/">


  <meta property="og:description" content="DNS or Domain Name System servers are one of the most important components in the modern IT and internet world. With DNS, you can use easy-to-remember domain names instead of IP addresses. Especially as IPv6 becomes more popular, DNS remains a very important part of your network.">





  <meta name="twitter:site" content="@iwanset96143401">
  <meta name="twitter:title" content="FreeBSD ISC Bind - Master and Slave DNS Configuration">
  <meta name="twitter:description" content="DNS or Domain Name System servers are one of the most important components in the modern IT and internet world. With DNS, you can use easy-to-remember domain names instead of IP addresses. Especially as IPv6 becomes more popular, DNS remains a very important part of your network.">
  <meta name="twitter:url" content="https://unixwinbsd.site/freebsd/isc-bind-dns-master-slave-configuration-freebsd/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2025-06-06T21:41:21+03:00">





  

  


<link rel="canonical" href="https://unixwinbsd.site/freebsd/isc-bind-dns-master-slave-configuration-freebsd/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "UnixBSDShell Blog",
      "url": "https://unixwinbsd.site/"
    
  }
</script>


  <meta name="google-site-verification" content="googledc9be5e5382da4fd" />


  <meta name="msvalidate.01" content="BCDF1444D895EBA62C6422C90DF8EA1C">



  <meta name="yandex-verification" content="69d778baa1dbd371">


<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="UnixBSDShell Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- <script data-ad-client="ca-pub-8799681346916578" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> -->

<!-- end custom head snippets -->


<meta name="google-site-verification" content="RT2u0cL3NCPK3ydcuewM50F8hvklo6JxBJGxu0zypiw" />
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js', 'ym');

    ym(95812963, 'init', {webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/95812963" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=GT-TNPXBWRM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'GT-TNPXBWRM');
</script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RWLWYNFRW0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RWLWYNFRW0');
</script>

<script>
gtag('set', 'user_data', {
"email": datainchi@gmail.com,
"phone_number": +6281289065249,
"address": {
"first_name": Iwan,
"last_name": Setiawan,
"street": Kp. Warung Bongkok RT. 002/01,
"city": Kabupaten Bekasi,
"region": Jawa Barat,
"postal_code": 17841,
"country": Indonesia
}
});
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N7TLZSRG');</script>
<!-- End Google Tag Manager -->



  </head>

  <body class="layout--single">

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N7TLZSRG"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          UnixBSDShell
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/">Posts by Category</a>
            </li><li class="masthead__menu-item">
              <a href="/year-archive/">Posts by Year</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="https://unixwinbsd.site/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/categories/#freebsd" itemprop="item"><span itemprop="name">Freebsd</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">FreeBSD ISC Bind - Master and Slave DNS Configuration</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/pscustomobject.jpg" alt="UnixBSDShell's Blog" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">UnixBSDShell's Blog</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>unixwinbsd.site is an online learning platform that provides online tutorials and videos about unix, FreeBSD, OpenBSD and Linux. Not only that, unixwinbsd.site also presents a variety of topics, including software development, programming, web design, and more. This blog provides various online tutorials and videos for beginners and experienced professionals. This blog also provides a Q&amp;A forum for users to ask questions and get help from other members.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Moscow, Russia</span>
        </li>
      

      
        
          
            <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
          
        
          
            <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">DevOps Notes</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/iwan-setiawan-943659164/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
            <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
      

      

      
        <li>
          <a href="mailto:iwanse1212@yandex.com">
            <meta itemprop="email" content="iwanse1212@yandex.com" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span>
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="FreeBSD ISC Bind - Master and Slave DNS Configuration">
    <meta itemprop="description" content="DNS or Domain Name System servers are one of the most important components in the modern IT and internet world. With DNS, you can use easy-to-remember domain names instead of IP addresses. Especially as IPv6 becomes more popular, DNS remains a very important part of your network.">
    <meta itemprop="datePublished" content="2025-06-06T21:41:21+03:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">FreeBSD ISC Bind - Master and Slave DNS Configuration
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu">
  <li><a href="#a-why-you-should-use-master-and-slave-dns-servers">A. Why You Should Use Master and Slave DNS Servers</a></li>
  <li><a href="#b-dns-master-configuration">B. DNS Master Configuration</a>
    <ul>
      <li><a href="#a-adding-zone-files">a. Adding Zone files</a></li>
    </ul>
  </li>
  <li><a href="#c-setup-dns-slave">C. Setup DNS Slave</a>
    <ul>
      <li><a href="#a-adding-zone-file-slave">a. Adding Zone file (slave)</a></li>
    </ul>
  </li>
</ul>

            </nav>
          </aside>
        
        <p>DNS or Domain Name System servers are one of the most important components in the modern IT and internet world. With DNS, you can use easy-to-remember domain names instead of IP addresses. Especially as IPv6 becomes more popular, DNS remains a very important part of your network.</p>

<p>This article will explain how to set up a Master DNS server and a Slave DNS server that will replicate data from the parent server.</p>

<p>Before we go any further, you should see the topology image of the master and slave DNS servers that we will discuss in this article.</p>

<p><br /></p>

<p><img src="https://gitflic.ru/project/unixbsdshell/ruby-static-page-jekyll-rb-openbsd/blob/raw?file=assets%2Fimages%2F26dns%20isc%20bind%20master%20dan%20slave.jpg&amp;commit=3e890ce2a103ac5ef565096fb18d2a1fb938e13a" alt="dns isc bind master dan slave" />
<br /></p>

<h2 id="a-why-you-should-use-master-and-slave-dns-servers">A. Why You Should Use Master and Slave DNS Servers</h2>
<p>No system or installation has 100% perfect uptime and since DNS can be a critical component of our internet network, it is a good idea to have two DNS servers. A secondary DNS server to provide a backup in case the primary DNS fails. You can simply set up two identical DNS servers with the same configuration and data. While this will work fine, you will need to make all changes twice. Once on the primary server and once on the secondary server.</p>

<p>By setting up DNS servers, one as a master and the other as a slave, the slave will replicate zone data from the master to itself. This way, when changes are made to some zone on the master, the slave will be notified and take over the changes almost instantly without any configuration on the slave side.</p>

<p>With 2 DNS servers, a secondary and a primary, when the secondary DNS server is “down”, the primary DNS server is running full time. Likewise, when the primary DNS server is “down”, the DNS needs will be handled by the secondary DNS server.</p>

<h2 id="b-dns-master-configuration">B. DNS Master Configuration</h2>
<p>In this article, we will not explain the Bind installation process. We assume that you have installed Bind on a FreeBSD server and the Bind application is running normally. So, let’s go straight to the DNS Master configuration.</p>

<p>The first step is to create the <code class="language-plaintext highlighter-rouge">"rndc.key"</code> key, (Remote Name Daemon Control). This key is used to manage a daemon called DNS Bind. Okay, now let’s create the <code class="language-plaintext highlighter-rouge">rndc.key</code> key (do this only on the master server).</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router1:~ #</span><span class="w"> </span>rndc-confgen <span class="nt">-a</span>
<span class="go">wrote key file "/usr/local/etc/namedb/rndc.key"
</span><span class="gp">root@router1:~ #</span><span class="w"> </span><span class="nb">chown</span> <span class="nt">-R</span> <span class="nb">bind</span>:bind /usr/local/etc/namedb/rndc.key
<span class="gp">root@router1:~ #</span><span class="w"> </span><span class="nb">chmod </span>440 /usr/local/etc/namedb/rndc.key
</code></pre></div></div>
<p>To configure DNS Master, please open the main Bind configuration file, namely <code class="language-plaintext highlighter-rouge">"/usr/local/etc/namedb/named.conf"</code>.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router1:~ #</span><span class="w"> </span>ee /usr/local/etc/namedb/named.conf
<span class="go">
key "rndc-key" {
</span><span class="gp">	algorithm hmac-sha256;</span><span class="w">
</span><span class="gp">	secret "sLhSyJAo609lksFnU2Z0y5MbiSnoVJfTMz21foPVv3g=";</span><span class="w">
</span><span class="gp">};</span><span class="w">
</span><span class="go">
 controls {
</span><span class="gp">        inet 192.168.5.9 port 953 allow { 192.168.5.5;</span><span class="w"> </span><span class="o">}</span> keys <span class="o">{</span> <span class="s2">"rndc-key"</span><span class="p">;</span> <span class="o">}</span><span class="p">;</span>
<span class="gp">        inet 127.0.0.1 port 953 allow { 127.0.0.1;</span><span class="w"> </span><span class="o">}</span> keys <span class="o">{</span> <span class="s2">"rndc-key"</span><span class="p">;</span> <span class="o">}</span><span class="p">;</span>
<span class="gp">};</span><span class="w">
</span><span class="go">
acl clients {
</span><span class="gp">	192.168.5.0/24;</span><span class="w">
</span><span class="gp">	127.0.0.1;</span><span class="w">
</span><span class="gp">};</span><span class="w">
</span><span class="gp">acl IP_LAN { 192.168.5.5;</span><span class="w"> </span><span class="o">}</span><span class="p">;</span>
<span class="go">
options {
</span><span class="gp">	directory "/tmp";</span><span class="w">
</span><span class="gp">	version "dns foo.kursor.my.id";</span><span class="w">
</span><span class="gp">	listen-on port 53 { IP_LAN;</span><span class="w"> </span><span class="o">}</span><span class="p">;</span>
<span class="gp">	#</span>listen-on-v6 <span class="o">{</span> any<span class="p">;</span> <span class="o">}</span><span class="p">;</span>
<span class="gp">	allow-recursion { clients;</span><span class="w"> </span><span class="o">}</span><span class="p">;</span>
<span class="gp">	allow-query { clients;</span><span class="w"> </span><span class="o">}</span><span class="p">;</span>
<span class="gp">	allow-query-cache { clients;</span><span class="w"> </span><span class="o">}</span><span class="p">;</span>
<span class="gp">	allow-transfer { localhost;</span><span class="w"> </span>192.168.5.9<span class="p">;</span> <span class="o">}</span><span class="p">;</span>
<span class="gp">	notify yes;</span><span class="w">
</span><span class="gp">	empty-zones-enable yes;</span><span class="w">
</span><span class="gp">	recursion yes;</span><span class="w">
</span><span class="gp">	auth-nxdomain no;</span><span class="w">
</span><span class="gp">	dnssec-validation yes;</span><span class="w">
</span><span class="gp">};</span><span class="w">
</span><span class="go">



zone "localhost" {
</span><span class="gp">        type master;</span><span class="w">
</span><span class="gp">        file "standard/localhost";</span><span class="w">
</span><span class="gp">        allow-transfer { 127.0.0.1;</span><span class="w"> </span><span class="o">}</span><span class="p">;</span>
<span class="gp">};</span><span class="w">
</span><span class="go">
zone "127.in-addr.arpa" {
</span><span class="gp">        type master;</span><span class="w">
</span><span class="gp">        file "standard/loopback";</span><span class="w">
</span><span class="gp">        allow-transfer { 127.0.0.1;</span><span class="w"> </span><span class="o">}</span><span class="p">;</span>
<span class="gp">};</span><span class="w">
</span><span class="go">
zone "." {
</span><span class="gp">  type forward;</span><span class="w">
</span><span class="gp">  forward first;</span><span class="w">
</span><span class="gp">  forwarders { 1.1.1.1;</span><span class="w"> </span>8.8.8.8<span class="p">;</span> <span class="o">}</span><span class="p">;</span>
<span class="gp">};</span><span class="w">
</span><span class="go">
zone "kursor.my.id" in {
</span><span class="gp">        type master;</span><span class="w">
</span><span class="gp">        file "master/internal.lan";</span><span class="w">
</span><span class="gp">};</span><span class="w">
</span><span class="go">
zone "5.168.192.in-addr.arpa" in {
</span><span class="gp">        type master;</span><span class="w">
</span><span class="gp">        file "master/insternal.rev";</span><span class="w">
</span><span class="gp">};</span><span class="w">
</span></code></pre></div></div>

<h3 id="a-adding-zone-files">a. Adding Zone files</h3>
<p>After you have finished configuring the named.conf file, we continue by creating a zone. We divide the creation of this zone into 2. First we create a zone for the domain and second we create a zone for the reverse (IP address).</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router1:~ #</span><span class="w"> </span>ee /usr/local/etc/namedb/master/internal.lan
<span class="go">
</span><span class="gp">$</span>ORIGIN <span class="nb">.</span>
<span class="gp">$</span>TTL    86400   <span class="p">;</span> 24 hours
<span class="go">kursor.my.id    IN SOA  router1.kursor.my.id. root.router1.kursor.my.id. (
</span><span class="gp">                        2010022201 ;</span><span class="w"> </span>Serial
<span class="gp">                        86400           ;</span><span class="w"> </span>Refresh <span class="o">(</span>24 hours<span class="o">)</span>
<span class="gp">                        3600             ;</span><span class="w"> </span>Retry <span class="o">(</span>1 hour<span class="o">)</span>
<span class="gp">                        172800         ;</span><span class="w"> </span>Expire <span class="o">(</span>48 hours<span class="o">)</span>
<span class="gp">                        3600             ;</span><span class="w"> </span>Minimum <span class="o">(</span>1 hour<span class="o">)</span>
<span class="go">                )
kursor.my.id.		IN	NS      router1.kursor.my.id.
kursor.my.id.		IN	NS      router2.kursor.my.id.

</span><span class="gp">$</span>ORIGIN kursor.my.id.
<span class="go">router1.kursor.my.id.	IN	A       192.168.5.5
router2.kursor.my.id.	IN	A       192.168.5.9
</span></code></pre></div></div>

<p><br /></p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router1:~ #</span><span class="w"> </span>ee /usr/local/etc/namedb/master/insternal.rev
<span class="go">
</span><span class="gp">$</span>ORIGIN <span class="nb">.</span>
<span class="gp">$</span>TTL    86400   <span class="p">;</span> 24 hours
<span class="go">5.168.192.in-addr.arpa	IN	SOA	router1.kursor.my.id. root.router1.kursor.my.id. (
</span><span class="gp">                                2010022201   ;</span><span class="w"> </span>Serial
<span class="gp">                                86400             ;</span><span class="w"> </span>Refresh <span class="o">(</span>24 hours<span class="o">)</span>
<span class="gp">                                3600               ;</span><span class="w"> </span>Retry <span class="o">(</span>1 hour<span class="o">)</span>
<span class="gp">                                172800           ;</span><span class="w"> </span>Expire <span class="o">(</span>48 hours<span class="o">)</span>
<span class="gp">                                3600               ;</span><span class="w"> </span>Minimum <span class="o">(</span>1 hour<span class="o">)</span>
<span class="go">                                )
	IN	NS      router1.kursor.my.id.
	IN	NS      router2.kursor.my.id.

</span><span class="gp">$</span>ORIGIN 5.168.192.in-addr.arpa.
<span class="go">100	IN     PTR     router1.kursor.my.id.
200	IN     PTR     router2.kursor.my.id.
</span></code></pre></div></div>
<p>After that you restart the Bind DNS server, with the following command.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router1:~ #</span><span class="w"> </span>service named restart
</code></pre></div></div>

<h2 id="c-setup-dns-slave">C. Setup DNS Slave</h2>
<p>Once our master DNS server is working properly, it’s time to add a slave DNS server to the master DNS server. In this article, the slave DNS server is run on another computer, but still using FreeBSD as its operating system.</p>

<p>The configuration method is not much different from the master DNS, there are only a few changes. Okay, let’s edit the main slave DNS configuration file, namely <code class="language-plaintext highlighter-rouge">"/usr/local/etc/namedb/named.conf"</code>.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router2:~ #</span><span class="w"> </span>ee /usr/local/etc/namedb/named.conf
<span class="go">
key "rndc-key" {
</span><span class="gp">	algorithm hmac-sha256;</span><span class="w">
</span><span class="gp">	secret "sLhSyJAo609lksFnU2Z0y5MbiSnoVJfTMz21foPVv3g=";</span><span class="w">
</span><span class="gp">};</span><span class="w">
</span><span class="go">
 controls {
</span><span class="gp">        inet 192.168.5.5 port 953 allow { 192.168.5.9;</span><span class="w"> </span><span class="o">}</span> keys <span class="o">{</span> <span class="s2">"rndc-key"</span><span class="p">;</span> <span class="o">}</span><span class="p">;</span>
<span class="gp">        inet 127.0.0.1 port 953 allow { 127.0.0.1;</span><span class="w"> </span><span class="o">}</span> keys <span class="o">{</span> <span class="s2">"rndc-key"</span><span class="p">;</span> <span class="o">}</span><span class="p">;</span>
<span class="gp">};</span><span class="w">
</span><span class="go">
acl clients {
</span><span class="gp">	192.168.5.0/24;</span><span class="w">
</span><span class="gp">	127.0.0.1;</span><span class="w">
</span><span class="gp">};</span><span class="w">
</span><span class="gp">acl IP_LAN { 192.168.5.9;</span><span class="w"> </span><span class="o">}</span><span class="p">;</span>
<span class="go">
options {
</span><span class="gp">	directory "/tmp";</span><span class="w">
</span><span class="gp">	version "dns foo.kursor.my.id";</span><span class="w">
</span><span class="gp">	listen-on port 53 { IP_LAN;</span><span class="w"> </span><span class="o">}</span><span class="p">;</span>
<span class="gp">	#</span>listen-on-v6 <span class="o">{</span> any<span class="p">;</span> <span class="o">}</span><span class="p">;</span>
<span class="gp">	allow-recursion { clients;</span><span class="w"> </span><span class="o">}</span><span class="p">;</span>
<span class="gp">	allow-query { clients;</span><span class="w"> </span><span class="o">}</span><span class="p">;</span>
<span class="gp">	allow-query-cache { clients;</span><span class="w"> </span><span class="o">}</span><span class="p">;</span>
<span class="gp">	allow-transfer { localhost;</span><span class="w"> </span>192.168.5.5<span class="p">;</span> <span class="o">}</span><span class="p">;</span>
<span class="gp">	notify yes;</span><span class="w">
</span><span class="gp">	empty-zones-enable yes;</span><span class="w">
</span><span class="gp">	recursion yes;</span><span class="w">
</span><span class="gp">	auth-nxdomain no;</span><span class="w">
</span><span class="gp">	dnssec-validation yes;</span><span class="w">
</span><span class="gp">};</span><span class="w">
</span><span class="go">



zone "localhost" {
</span><span class="gp">        type slave;</span><span class="w">
</span><span class="gp">        file "standard/localhost";</span><span class="w">
</span><span class="gp">        allow-transfer { 127.0.0.1;</span><span class="w"> </span><span class="o">}</span><span class="p">;</span>
<span class="gp">};</span><span class="w">
</span><span class="go">
zone "127.in-addr.arpa" {
</span><span class="gp">        type slave;</span><span class="w">
</span><span class="gp">        file "standard/loopback";</span><span class="w">
</span><span class="gp">        allow-transfer { 127.0.0.1;</span><span class="w"> </span><span class="o">}</span><span class="p">;</span>
<span class="gp">};</span><span class="w">
</span><span class="go">
zone "." {
</span><span class="gp">  type forward;</span><span class="w">
</span><span class="gp">  forward first;</span><span class="w">
</span><span class="gp">  forwarders { 1.1.1.1;</span><span class="w"> </span>8.8.8.8<span class="p">;</span> <span class="o">}</span><span class="p">;</span>
<span class="gp">};</span><span class="w">
</span><span class="go">
zone "kursor.my.id" in {
</span><span class="gp">        type slave;</span><span class="w">
</span><span class="gp">        masters { 192.168.5.5;</span><span class="w"> </span><span class="o">}</span><span class="p">;</span>
<span class="gp">        file "master/internal.lan";</span><span class="w">
</span><span class="gp">};</span><span class="w">
</span><span class="go">
zone "5.168.192.in-addr.arpa" in {
</span><span class="gp">        type slave;</span><span class="w">
</span><span class="gp">        masters { 192.168.5.5;</span><span class="w"> </span><span class="o">}</span><span class="p">;</span>
<span class="gp">        file "master/insternal.rev";</span><span class="w">
</span><span class="gp">};</span><span class="w">
</span></code></pre></div></div>

<h3 id="a-adding-zone-file-slave">a. Adding Zone file (slave)</h3>
<p>Creating a zone file for DNS slave is almost the same as DNS master. Here is the zone file for DNS slave.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router2:~ #</span><span class="w"> </span>ee /usr/local/etc/namedb/master/internal.lan
<span class="go">
</span><span class="gp">$</span>ORIGIN <span class="nb">.</span>
<span class="gp">$</span>TTL    86400   <span class="p">;</span> 24 hours
<span class="go">kursor.my.id    IN SOA  router2.kursor.my.id. root.router2.kursor.my.id. (
</span><span class="gp">                        2010022201 ;</span><span class="w"> </span>Serial
<span class="gp">                        86400           ;</span><span class="w"> </span>Refresh <span class="o">(</span>24 hours<span class="o">)</span>
<span class="gp">                        3600             ;</span><span class="w"> </span>Retry <span class="o">(</span>1 hour<span class="o">)</span>
<span class="gp">                        172800         ;</span><span class="w"> </span>Expire <span class="o">(</span>48 hours<span class="o">)</span>
<span class="gp">                        3600             ;</span><span class="w"> </span>Minimum <span class="o">(</span>1 hour<span class="o">)</span>
<span class="go">                )
kursor.my.id.		IN	NS      router2.kursor.my.id.
kursor.my.id.		IN	NS      router1.kursor.my.id.

</span><span class="gp">$</span>ORIGIN kursor.my.id.
<span class="go">router2.kursor.my.id.	IN	A       192.168.5.9
router1.kursor.my.id.	IN	A       192.168.5.5
</span></code></pre></div></div>
<p><br /></p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router2:~ #</span><span class="w"> </span>ee /usr/local/etc/namedb/master/insternal.rev
<span class="go">
</span><span class="gp">$</span>ORIGIN <span class="nb">.</span>
<span class="gp">$</span>TTL    86400   <span class="p">;</span> 24 hours
<span class="go">5.168.192.in-addr.arpa	IN	SOA	router2.kursor.my.id. root.router2.kursor.my.id. (
</span><span class="gp">                                2010022201   ;</span><span class="w"> </span>Serial
<span class="gp">                                86400             ;</span><span class="w"> </span>Refresh <span class="o">(</span>24 hours<span class="o">)</span>
<span class="gp">                                3600               ;</span><span class="w"> </span>Retry <span class="o">(</span>1 hour<span class="o">)</span>
<span class="gp">                                172800           ;</span><span class="w"> </span>Expire <span class="o">(</span>48 hours<span class="o">)</span>
<span class="gp">                                3600               ;</span><span class="w"> </span>Minimum <span class="o">(</span>1 hour<span class="o">)</span>
<span class="go">                                )
	IN	NS      router2.kursor.my.id.
	IN	NS      router1.kursor.my.id.

</span><span class="gp">$</span>ORIGIN 5.168.192.in-addr.arpa.
<span class="go">100	IN     PTR     router2.kursor.my.id.
200	IN     PTR     router1.kursor.my.id.
</span></code></pre></div></div>
<p>After that you restart the Bind DNS server, with the following command.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@router1:~ #</span><span class="w"> </span>service named restart
</code></pre></div></div>
<p>If you followed all the instructions above, and there is nothing wrong in the scripting, you can now enjoy two DNS servers for your internet network needs. Enjoy the internet speed with private DNS on your FreeBSD server.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#dnsserver" class="page__taxonomy-item" rel="tag">DNSServer</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#freebsd" class="page__taxonomy-item" rel="tag">FreeBSD</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2025-06-06T21:41:21+03:00">June 6, 2025</time></p>


      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?via=iwanset96143401&text=FreeBSD+ISC+Bind+-+Master+and+Slave+DNS+Configuration%20https%3A%2F%2Funixwinbsd.site%2Ffreebsd%2Fisc-bind-dns-master-slave-configuration-freebsd%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Funixwinbsd.site%2Ffreebsd%2Fisc-bind-dns-master-slave-configuration-freebsd%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Funixwinbsd.site%2Ffreebsd%2Fisc-bind-dns-master-slave-configuration-freebsd%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/freebsd/article-nsd-master-slave-authoritative-freebsd/" class="pagination--pager" title="FreeBSD Article - Creating NSD Authoritative DNS Master and Slave
">Previous</a>
    
    
      <a href="/freebsd/dhcp-server-pf-firewall-router-gateway/" class="pagination--pager" title="Installing FreeBSD DHCP Server with PF Filter Firewall for Firewall Gateway Router
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/use-pfsense-pfBlockerNG-dnsbl-block-ads-malware/" rel="permalink">Use PFSense with pfBlockerNG DNSBL to Block Ads, Malware, Ransomware, and Web Tracking
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">By adding the pfBlockerNG package to your PFSense Router, you’ve blocked ads and also been able to block web tracking, ransomware, and malware. When you acti...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/installation-java-development-kit-on-freebsd/" rel="permalink">Installing and Using the Java Development Kit on FreeBSD
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          8 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Redmine is open source software or application that uses the Ruby On Rails Framework. Redmine is a project management or project tracking application which r...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/how-to-install-webmin-on-freebsd-machine/" rel="permalink">How to Install Webmin on a FreeBSD System
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Webmin is a web-based system administration tool for Unix-like servers, and a service with approximately 1,000,000 annual installations worldwide
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/freebsd/configuration-radicale-caldav-cardavv-server-freebsd/" rel="permalink">How to Configure FreeBSD with Radicale CalDAV CardDAV Server
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Radicale is run with the help of the Apache or NGINX web server, so it can be operated either as a standalone package using its internal http/https server or...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/catanesi/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn Profile</a></li>
        
      
        
          <li><a href="https://github.com/unixwinbsd/unixwinbsd.github.io" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> Website</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 UnixBSDShell Blog. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "https://unixwinbsd.site/freebsd/isc-bind-dns-master-slave-configuration-freebsd/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/freebsd/isc-bind-dns-master-slave-configuration-freebsd"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://UnixBSDShell.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  







  </body>
</html>
